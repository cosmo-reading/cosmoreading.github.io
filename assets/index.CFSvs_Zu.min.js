import {
    al as Ft,
    am as Bt
} from "./app.BSN4W8HM.min.js";
var Qe = function(t, e) {
    return Qe = Object.setPrototypeOf || {
        __proto__: []
    }
    instanceof Array && function(i, r) {
        i.__proto__ = r
    } || function(i, r) {
        for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (i[n] = r[n])
    }, Qe(t, e)
};

function ke(t, e) {
    if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
    Qe(t, e);

    function i() {
        this.constructor = t
    }
    t.prototype = e === null ? Object.create(e) : (i.prototype = e.prototype, new i)
}
var E = function() {
    return E = Object.assign || function(e) {
        for (var i, r = 1, n = arguments.length; r < n; r++) {
            i = arguments[r];
            for (var o in i) Object.prototype.hasOwnProperty.call(i, o) && (e[o] = i[o])
        }
        return e
    }, E.apply(this, arguments)
};

function Ye(t, e) {
    var i = {};
    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (i[r] = t[r]);
    if (t != null && typeof Object.getOwnPropertySymbols == "function")
        for (var n = 0, r = Object.getOwnPropertySymbols(t); n < r.length; n++) e.indexOf(r[n]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[n]) && (i[r[n]] = t[r[n]]);
    return i
}

function w(t, e, i, r) {
    function n(o) {
        return o instanceof i ? o : new i(function(a) {
            a(o)
        })
    }
    return new(i || (i = Promise))(function(o, a) {
        function l(v) {
            try {
                c(r.next(v))
            } catch (g) {
                a(g)
            }
        }

        function h(v) {
            try {
                c(r.throw(v))
            } catch (g) {
                a(g)
            }
        }

        function c(v) {
            v.done ? o(v.value) : n(v.value).then(l, h)
        }
        c((r = r.apply(t, e || [])).next())
    })
}

function _(t, e) {
    var i = {
            label: 0,
            sent: function() {
                if (o[0] & 1) throw o[1];
                return o[1]
            },
            trys: [],
            ops: []
        },
        r, n, o, a;
    return a = {
        next: l(0),
        throw: l(1),
        return: l(2)
    }, typeof Symbol == "function" && (a[Symbol.iterator] = function() {
        return this
    }), a;

    function l(c) {
        return function(v) {
            return h([c, v])
        }
    }

    function h(c) {
        if (r) throw new TypeError("Generator is already executing.");
        for (; a && (a = 0, c[0] && (i = 0)), i;) try {
            if (r = 1, n && (o = c[0] & 2 ? n.return : c[0] ? n.throw || ((o = n.return) && o.call(n), 0) : n.next) && !(o = o.call(n, c[1])).done) return o;
            switch (n = 0, o && (c = [c[0] & 2, o.value]), c[0]) {
                case 0:
                case 1:
                    o = c;
                    break;
                case 4:
                    return i.label++, {
                        value: c[1],
                        done: !1
                    };
                case 5:
                    i.label++, n = c[1], c = [0];
                    continue;
                case 7:
                    c = i.ops.pop(), i.trys.pop();
                    continue;
                default:
                    if (o = i.trys, !(o = o.length > 0 && o[o.length - 1]) && (c[0] === 6 || c[0] === 2)) {
                        i = 0;
                        continue
                    }
                    if (c[0] === 3 && (!o || c[1] > o[0] && c[1] < o[3])) {
                        i.label = c[1];
                        break
                    }
                    if (c[0] === 6 && i.label < o[1]) {
                        i.label = o[1], o = c;
                        break
                    }
                    if (o && i.label < o[2]) {
                        i.label = o[2], i.ops.push(c);
                        break
                    }
                    o[2] && i.ops.pop(), i.trys.pop();
                    continue
            }
            c = e.call(t, i)
        } catch (v) {
            c = [6, v], n = 0
        } finally {
            r = o = 0
        }
        if (c[0] & 5) throw c[1];
        return {
            value: c[0] ? c[1] : void 0,
            done: !0
        }
    }
}

function ce(t) {
    var e = typeof Symbol == "function" && Symbol.iterator,
        i = e && t[e],
        r = 0;
    if (i) return i.call(t);
    if (t && typeof t.length == "number") return {
        next: function() {
            return t && r >= t.length && (t = void 0), {
                value: t && t[r++],
                done: !t
            }
        }
    };
    throw new TypeError(e ? "Object is not iterable." : "Symbol.iterator is not defined.")
}

function B(t, e) {
    var i = typeof Symbol == "function" && t[Symbol.iterator];
    if (!i) return t;
    var r = i.call(t),
        n, o = [],
        a;
    try {
        for (;
            (e === void 0 || e-- > 0) && !(n = r.next()).done;) o.push(n.value)
    } catch (l) {
        a = {
            error: l
        }
    } finally {
        try {
            n && !n.done && (i = r.return) && i.call(r)
        } finally {
            if (a) throw a.error
        }
    }
    return o
}

function ee(t, e, i) {
    if (i || arguments.length === 2)
        for (var r = 0, n = e.length, o; r < n; r++)(o || !(r in e)) && (o || (o = Array.prototype.slice.call(e, 0, r)), o[r] = e[r]);
    return t.concat(o || Array.prototype.slice.call(e))
}
var z;
(function(t) {
    t.SET = "$set", t.SET_ONCE = "$setOnce", t.ADD = "$add", t.APPEND = "$append", t.PREPEND = "$prepend", t.REMOVE = "$remove", t.PREINSERT = "$preInsert", t.POSTINSERT = "$postInsert", t.UNSET = "$unset", t.CLEAR_ALL = "$clearAll"
})(z || (z = {}));
var ne;
(function(t) {
    t.REVENUE_PRODUCT_ID = "$productId", t.REVENUE_QUANTITY = "$quantity", t.REVENUE_PRICE = "$price", t.REVENUE_TYPE = "$revenueType", t.REVENUE = "$revenue"
})(ne || (ne = {}));
var de;
(function(t) {
    t.IDENTIFY = "$identify", t.GROUP_IDENTIFY = "$groupidentify", t.REVENUE = "revenue_amount"
})(de || (de = {}));
var W;
(function(t) {
    t[t.None = 0] = "None", t[t.Error = 1] = "Error", t[t.Warn = 2] = "Warn", t[t.Verbose = 3] = "Verbose", t[t.Debug = 4] = "Debug"
})(W || (W = {}));
var H;
(function(t) {
    t.BEFORE = "before", t.ENRICHMENT = "enrichment", t.DESTINATION = "destination"
})(H || (H = {}));
var Se;
(function(t) {
    t.US = "US", t.EU = "EU", t.STAGING = "STAGING"
})(Se || (Se = {}));
var F;
(function(t) {
    t.Unknown = "unknown", t.Skipped = "skipped", t.Success = "success", t.RateLimit = "rate_limit", t.PayloadTooLarge = "payload_too_large", t.Invalid = "invalid", t.Failed = "failed", t.Timeout = "Timeout", t.SystemError = "SystemError"
})(F || (F = {}));
var Te;
(function(t) {
    t.XHR = "xhr", t.SendBeacon = "beacon", t.Fetch = "fetch"
})(Te || (Te = {}));
const Sr = Object.freeze(Object.defineProperty({
    __proto__: null,
    get IdentifyOperation() {
        return z
    },
    get LogLevel() {
        return W
    },
    get PluginType() {
        return H
    },
    get RevenueProperty() {
        return ne
    },
    get ServerZone() {
        return Se
    },
    get SpecialEventType() {
        return de
    },
    get Status() {
        return F
    },
    get TransportType() {
        return Te
    }
}, Symbol.toStringTag, {
    value: "Module"
}));
var ut = "-",
    Ve = "AMP",
    jt = "".concat(Ve, "_unsent"),
    kt = "https://api2.amplitude.com/2/httpapi",
    zt = "https://api.eu.amplitude.com/2/httpapi",
    Gt = "https://api2.amplitude.com/batch",
    Kt = "https://api.eu.amplitude.com/batch",
    Ht = 1e3,
    Xe = function(t) {
        if (Object.keys(t).length > Ht) return !1;
        for (var e in t) {
            var i = t[e];
            if (!Ot(e, i)) return !1
        }
        return !0
    },
    Ot = function(t, e) {
        var i, r;
        if (typeof t != "string") return !1;
        if (Array.isArray(e)) {
            var n = !0;
            try {
                for (var o = ce(e), a = o.next(); !a.done; a = o.next()) {
                    var l = a.value;
                    if (Array.isArray(l)) return !1;
                    if (typeof l == "object") n = n && Xe(l);
                    else if (!["number", "string"].includes(typeof l)) return !1;
                    if (!n) return !1
                }
            } catch (h) {
                i = {
                    error: h
                }
            } finally {
                try {
                    a && !a.done && (r = o.return) && r.call(o)
                } finally {
                    if (i) throw i.error
                }
            }
        } else {
            if (e == null) return !1;
            if (typeof e == "object") return Xe(e);
            if (!["number", "string", "boolean"].includes(typeof e)) return !1
        }
        return !0
    },
    qe = function() {
        function t() {
            this._propertySet = new Set, this._properties = {}
        }
        return t.prototype.getUserProperties = function() {
            return E({}, this._properties)
        }, t.prototype.set = function(e, i) {
            return this._safeSet(z.SET, e, i), this
        }, t.prototype.setOnce = function(e, i) {
            return this._safeSet(z.SET_ONCE, e, i), this
        }, t.prototype.append = function(e, i) {
            return this._safeSet(z.APPEND, e, i), this
        }, t.prototype.prepend = function(e, i) {
            return this._safeSet(z.PREPEND, e, i), this
        }, t.prototype.postInsert = function(e, i) {
            return this._safeSet(z.POSTINSERT, e, i), this
        }, t.prototype.preInsert = function(e, i) {
            return this._safeSet(z.PREINSERT, e, i), this
        }, t.prototype.remove = function(e, i) {
            return this._safeSet(z.REMOVE, e, i), this
        }, t.prototype.add = function(e, i) {
            return this._safeSet(z.ADD, e, i), this
        }, t.prototype.unset = function(e) {
            return this._safeSet(z.UNSET, e, ut), this
        }, t.prototype.clearAll = function() {
            return this._properties = {}, this._properties[z.CLEAR_ALL] = ut, this
        }, t.prototype._safeSet = function(e, i, r) {
            if (this._validate(e, i, r)) {
                var n = this._properties[e];
                return n === void 0 && (n = {}, this._properties[e] = n), n[i] = r, this._propertySet.add(i), !0
            }
            return !1
        }, t.prototype._validate = function(e, i, r) {
            return this._properties[z.CLEAR_ALL] !== void 0 || this._propertySet.has(i) ? !1 : e === z.ADD ? typeof r == "number" : e !== z.UNSET && e !== z.REMOVE ? Ot(i, r) : !0
        }, t
    }(),
    Wt = function(t, e, i) {
        var r = typeof t == "string" ? {
            event_type: t
        } : t;
        return E(E(E({}, r), i), e && {
            event_properties: e
        })
    },
    Pt = function(t, e) {
        var i = E(E({}, e), {
            event_type: de.IDENTIFY,
            user_properties: t.getUserProperties()
        });
        return i
    },
    Qt = function(t, e, i, r) {
        var n, o = E(E({}, r), {
            event_type: de.GROUP_IDENTIFY,
            group_properties: i.getUserProperties(),
            groups: (n = {}, n[t] = e, n)
        });
        return o
    },
    Yt = function(t, e, i) {
        var r, n = new qe;
        n.set(t, e);
        var o = E(E({}, i), {
            event_type: de.IDENTIFY,
            user_properties: n.getUserProperties(),
            groups: (r = {}, r[t] = e, r)
        });
        return o
    },
    Xt = function(t, e) {
        return E(E({}, e), {
            event_type: de.REVENUE,
            event_properties: t.getEventProperties()
        })
    },
    Ie = function(t, e, i) {
        return e === void 0 && (e = 0), i === void 0 && (i = F.Unknown), {
            event: t,
            code: e,
            message: i
        }
    },
    Zt = function() {
        function t(e) {
            this.client = e, this.queue = [], this.applying = !1, this.plugins = []
        }
        return t.prototype.register = function(e, i) {
            return w(this, void 0, void 0, function() {
                return _(this, function(r) {
                    switch (r.label) {
                        case 0:
                            return [4, e.setup(i, this.client)];
                        case 1:
                            return r.sent(), this.plugins.push(e), [2]
                    }
                })
            })
        }, t.prototype.deregister = function(e) {
            var i;
            return w(this, void 0, void 0, function() {
                var r, n;
                return _(this, function(o) {
                    switch (o.label) {
                        case 0:
                            return r = this.plugins.findIndex(function(a) {
                                return a.name === e
                            }), n = this.plugins[r], this.plugins.splice(r, 1), [4, (i = n.teardown) === null || i === void 0 ? void 0 : i.call(n)];
                        case 1:
                            return o.sent(), [2]
                    }
                })
            })
        }, t.prototype.reset = function(e) {
            this.applying = !1;
            var i = this.plugins;
            i.map(function(r) {
                var n;
                return (n = r.teardown) === null || n === void 0 ? void 0 : n.call(r)
            }), this.plugins = [], this.client = e
        }, t.prototype.push = function(e) {
            var i = this;
            return new Promise(function(r) {
                i.queue.push([e, r]), i.scheduleApply(0)
            })
        }, t.prototype.scheduleApply = function(e) {
            var i = this;
            this.applying || (this.applying = !0, setTimeout(function() {
                i.apply(i.queue.shift()).then(function() {
                    i.applying = !1, i.queue.length > 0 && i.scheduleApply(0)
                })
            }, e))
        }, t.prototype.apply = function(e) {
            return w(this, void 0, void 0, function() {
                var i, r, n, o, a, l, h, p, s, c, v, g, u, p, s, f, d, y, I, m, b, P;
                return _(this, function(k) {
                    switch (k.label) {
                        case 0:
                            if (!e) return [2];
                            i = B(e, 1), r = i[0], n = B(e, 2), o = n[1], a = this.plugins.filter(function(U) {
                                return U.type === H.BEFORE
                            }), k.label = 1;
                        case 1:
                            k.trys.push([1, 6, 7, 8]), l = ce(a), h = l.next(), k.label = 2;
                        case 2:
                            return h.done ? [3, 5] : (p = h.value, [4, p.execute(E({}, r))]);
                        case 3:
                            if (s = k.sent(), s === null) return o({
                                event: r,
                                code: 0,
                                message: ""
                            }), [2];
                            r = s, k.label = 4;
                        case 4:
                            return h = l.next(), [3, 2];
                        case 5:
                            return [3, 8];
                        case 6:
                            return c = k.sent(), I = {
                                error: c
                            }, [3, 8];
                        case 7:
                            try {
                                h && !h.done && (m = l.return) && m.call(l)
                            } finally {
                                if (I) throw I.error
                            }
                            return [7];
                        case 8:
                            v = this.plugins.filter(function(U) {
                                return U.type === H.ENRICHMENT
                            }), k.label = 9;
                        case 9:
                            k.trys.push([9, 14, 15, 16]), g = ce(v), u = g.next(), k.label = 10;
                        case 10:
                            return u.done ? [3, 13] : (p = u.value, [4, p.execute(E({}, r))]);
                        case 11:
                            if (s = k.sent(), s === null) return o({
                                event: r,
                                code: 0,
                                message: ""
                            }), [2];
                            r = s, k.label = 12;
                        case 12:
                            return u = g.next(), [3, 10];
                        case 13:
                            return [3, 16];
                        case 14:
                            return f = k.sent(), b = {
                                error: f
                            }, [3, 16];
                        case 15:
                            try {
                                u && !u.done && (P = g.return) && P.call(g)
                            } finally {
                                if (b) throw b.error
                            }
                            return [7];
                        case 16:
                            return d = this.plugins.filter(function(U) {
                                return U.type === H.DESTINATION
                            }), y = d.map(function(U) {
                                var D = E({}, r);
                                return U.execute(D).catch(function(L) {
                                    return Ie(D, 0, String(L))
                                })
                            }), Promise.all(y).then(function(U) {
                                var D = B(U, 1),
                                    L = D[0];
                                o(L)
                            }), [2]
                    }
                })
            })
        }, t.prototype.flush = function() {
            return w(this, void 0, void 0, function() {
                var e, i, r, n = this;
                return _(this, function(o) {
                    switch (o.label) {
                        case 0:
                            return e = this.queue, this.queue = [], [4, Promise.all(e.map(function(a) {
                                return n.apply(a)
                            }))];
                        case 1:
                            return o.sent(), i = this.plugins.filter(function(a) {
                                return a.type === H.DESTINATION
                            }), r = i.map(function(a) {
                                return a.flush && a.flush()
                            }), [4, Promise.all(r)];
                        case 2:
                            return o.sent(), [2]
                    }
                })
            })
        }, t
    }(),
    $t = "Event tracked successfully",
    Jt = "Unexpected error occurred",
    ei = "Event rejected due to exceeded retry count",
    ti = "Event skipped due to optOut config",
    ii = "Event rejected due to missing API key",
    ri = "Invalid API key",
    ni = "Client not initialized",
    X = function(t) {
        return {
            promise: t || Promise.resolve()
        }
    },
    oi = function() {
        function t(e) {
            e === void 0 && (e = "$default"), this.initializing = !1, this.q = [], this.dispatchQ = [], this.logEvent = this.track.bind(this), this.timeline = new Zt(this), this.name = e
        }
        return t.prototype._init = function(e) {
            return w(this, void 0, void 0, function() {
                return _(this, function(i) {
                    switch (i.label) {
                        case 0:
                            return this.config = e, this.timeline.reset(this), [4, this.runQueuedFunctions("q")];
                        case 1:
                            return i.sent(), [2]
                    }
                })
            })
        }, t.prototype.runQueuedFunctions = function(e) {
            return w(this, void 0, void 0, function() {
                var i, r, n, o, a, l, h;
                return _(this, function(c) {
                    switch (c.label) {
                        case 0:
                            i = this[e], this[e] = [], c.label = 1;
                        case 1:
                            c.trys.push([1, 6, 7, 8]), r = ce(i), n = r.next(), c.label = 2;
                        case 2:
                            return n.done ? [3, 5] : (o = n.value, [4, o()]);
                        case 3:
                            c.sent(), c.label = 4;
                        case 4:
                            return n = r.next(), [3, 2];
                        case 5:
                            return [3, 8];
                        case 6:
                            return a = c.sent(), l = {
                                error: a
                            }, [3, 8];
                        case 7:
                            try {
                                n && !n.done && (h = r.return) && h.call(r)
                            } finally {
                                if (l) throw l.error
                            }
                            return [7];
                        case 8:
                            return [2]
                    }
                })
            })
        }, t.prototype.track = function(e, i, r) {
            var n = Wt(e, i, r);
            return X(this.dispatch(n))
        }, t.prototype.identify = function(e, i) {
            var r = Pt(e, i);
            return X(this.dispatch(r))
        }, t.prototype.groupIdentify = function(e, i, r, n) {
            var o = Qt(e, i, r, n);
            return X(this.dispatch(o))
        }, t.prototype.setGroup = function(e, i, r) {
            var n = Yt(e, i, r);
            return X(this.dispatch(n))
        }, t.prototype.revenue = function(e, i) {
            var r = Xt(e, i);
            return X(this.dispatch(r))
        }, t.prototype.add = function(e) {
            return this.config ? X(this.timeline.register(e, this.config)) : (this.q.push(this.add.bind(this, e)), X())
        }, t.prototype.remove = function(e) {
            return this.config ? X(this.timeline.deregister(e)) : (this.q.push(this.remove.bind(this, e)), X())
        }, t.prototype.dispatchWithCallback = function(e, i) {
            if (!this.config) return i(Ie(e, 0, ni));
            this.process(e).then(i)
        }, t.prototype.dispatch = function(e) {
            return w(this, void 0, void 0, function() {
                var i = this;
                return _(this, function(r) {
                    return this.config ? [2, this.process(e)] : [2, new Promise(function(n) {
                        i.dispatchQ.push(i.dispatchWithCallback.bind(i, e, n))
                    })]
                })
            })
        }, t.prototype.process = function(e) {
            return w(this, void 0, void 0, function() {
                var n, i, r, n;
                return _(this, function(o) {
                    switch (o.label) {
                        case 0:
                            return o.trys.push([0, 2, , 3]), this.config.optOut ? [2, Ie(e, 0, ti)] : [4, this.timeline.push(e)];
                        case 1:
                            return n = o.sent(), n.code === 200 ? this.config.loggerProvider.log(n.message) : this.config.loggerProvider.error(n.message), [2, n];
                        case 2:
                            return i = o.sent(), this.config.loggerProvider.error(i), r = String(i), n = Ie(e, 0, r), [2, n];
                        case 3:
                            return [2]
                    }
                })
            })
        }, t.prototype.setOptOut = function(e) {
            if (!this.config) {
                this.q.push(this.setOptOut.bind(this, !!e));
                return
            }
            this.config.optOut = !!e
        }, t.prototype.flush = function() {
            return X(this.timeline.flush())
        }, t
    }(),
    ai = function() {
        function t() {
            this.productId = "", this.quantity = 1, this.price = 0
        }
        return t.prototype.setProductId = function(e) {
            return this.productId = e, this
        }, t.prototype.setQuantity = function(e) {
            return e > 0 && (this.quantity = e), this
        }, t.prototype.setPrice = function(e) {
            return this.price = e, this
        }, t.prototype.setRevenueType = function(e) {
            return this.revenueType = e, this
        }, t.prototype.setRevenue = function(e) {
            return this.revenue = e, this
        }, t.prototype.setEventProperties = function(e) {
            return Xe(e) && (this.properties = e), this
        }, t.prototype.getEventProperties = function() {
            var e = this.properties ? E({}, this.properties) : {};
            return e[ne.REVENUE_PRODUCT_ID] = this.productId, e[ne.REVENUE_QUANTITY] = this.quantity, e[ne.REVENUE_PRICE] = this.price, e[ne.REVENUE_TYPE] = this.revenueType, e[ne.REVENUE] = this.revenue, e
        }, t
    }(),
    si = function(t, e) {
        var i = Math.max(e, 1);
        return t.reduce(function(r, n, o) {
            var a = Math.floor(o / i);
            return r[a] || (r[a] = []), r[a].push(n), r
        }, [])
    },
    Ce = "Amplitude Logger ",
    ui = function() {
        function t() {
            this.logLevel = W.None
        }
        return t.prototype.disable = function() {
            this.logLevel = W.None
        }, t.prototype.enable = function(e) {
            e === void 0 && (e = W.Warn), this.logLevel = e
        }, t.prototype.log = function() {
            for (var e = [], i = 0; i < arguments.length; i++) e[i] = arguments[i];
            this.logLevel < W.Verbose || console.log("".concat(Ce, "[Log]: ").concat(e.join(" ")))
        }, t.prototype.warn = function() {
            for (var e = [], i = 0; i < arguments.length; i++) e[i] = arguments[i];
            this.logLevel < W.Warn || console.warn("".concat(Ce, "[Warn]: ").concat(e.join(" ")))
        }, t.prototype.error = function() {
            for (var e = [], i = 0; i < arguments.length; i++) e[i] = arguments[i];
            this.logLevel < W.Error || console.error("".concat(Ce, "[Error]: ").concat(e.join(" ")))
        }, t.prototype.debug = function() {
            for (var e = [], i = 0; i < arguments.length; i++) e[i] = arguments[i];
            this.logLevel < W.Debug || console.log("".concat(Ce, "[Debug]: ").concat(e.join(" ")))
        }, t
    }(),
    Ne = function() {
        return {
            flushMaxRetries: 12,
            flushQueueSize: 200,
            flushIntervalMillis: 1e4,
            instanceName: "$default_instance",
            logLevel: W.Warn,
            loggerProvider: new ui,
            optOut: !1,
            serverUrl: kt,
            serverZone: Se.US,
            useBatch: !1
        }
    },
    ci = function() {
        function t(e) {
            var i, r, n, o;
            this._optOut = !1;
            var a = Ne();
            this.apiKey = e.apiKey, this.flushIntervalMillis = (i = e.flushIntervalMillis) !== null && i !== void 0 ? i : a.flushIntervalMillis, this.flushMaxRetries = e.flushMaxRetries || a.flushMaxRetries, this.flushQueueSize = e.flushQueueSize || a.flushQueueSize, this.instanceName = e.instanceName || a.instanceName, this.loggerProvider = e.loggerProvider || a.loggerProvider, this.logLevel = (r = e.logLevel) !== null && r !== void 0 ? r : a.logLevel, this.minIdLength = e.minIdLength, this.plan = e.plan, this.ingestionMetadata = e.ingestionMetadata, this.optOut = (n = e.optOut) !== null && n !== void 0 ? n : a.optOut, this.serverUrl = e.serverUrl, this.serverZone = e.serverZone || a.serverZone, this.storageProvider = e.storageProvider, this.transportProvider = e.transportProvider, this.useBatch = (o = e.useBatch) !== null && o !== void 0 ? o : a.useBatch, this.loggerProvider.enable(this.logLevel);
            var l = Rt(e.serverUrl, e.serverZone, e.useBatch);
            this.serverZone = l.serverZone, this.serverUrl = l.serverUrl
        }
        return Object.defineProperty(t.prototype, "optOut", {
            get: function() {
                return this._optOut
            },
            set: function(e) {
                this._optOut = e
            },
            enumerable: !1,
            configurable: !0
        }), t
    }(),
    di = function(t, e) {
        return t === Se.EU ? e ? Kt : zt : e ? Gt : kt
    },
    Rt = function(t, e, i) {
        if (t === void 0 && (t = ""), e === void 0 && (e = Ne().serverZone), i === void 0 && (i = Ne().useBatch), t) return {
            serverUrl: t,
            serverZone: void 0
        };
        var r = ["US", "EU"].includes(e) ? e : Ne().serverZone;
        return {
            serverZone: r,
            serverUrl: di(r, i)
        }
    };

function li(t) {
    return t instanceof Error ? t.message : String(t)
}

function Ue(t) {
    var e = "";
    try {
        "body" in t && (e = JSON.stringify(t.body))
    } catch {}
    return e
}
var fi = function() {
        function t() {
            this.name = "amplitude", this.type = H.DESTINATION, this.retryTimeout = 1e3, this.throttleTimeout = 3e4, this.storageKey = "", this.scheduled = null, this.queue = []
        }
        return t.prototype.setup = function(e) {
            var i;
            return w(this, void 0, void 0, function() {
                var r, n = this;
                return _(this, function(o) {
                    switch (o.label) {
                        case 0:
                            return this.config = e, this.storageKey = "".concat(jt, "_").concat(this.config.apiKey.substring(0, 10)), [4, (i = this.config.storageProvider) === null || i === void 0 ? void 0 : i.get(this.storageKey)];
                        case 1:
                            return r = o.sent(), this.saveEvents(), r && r.length > 0 && Promise.all(r.map(function(a) {
                                return n.execute(a)
                            })).catch(), [2, Promise.resolve(void 0)]
                    }
                })
            })
        }, t.prototype.execute = function(e) {
            var i = this;
            return new Promise(function(r) {
                var n = {
                    event: e,
                    attempts: 0,
                    callback: function(o) {
                        return r(o)
                    },
                    timeout: 0
                };
                i.addToQueue(n)
            })
        }, t.prototype.addToQueue = function() {
            for (var e = this, i = [], r = 0; r < arguments.length; r++) i[r] = arguments[r];
            var n = i.filter(function(o) {
                return o.attempts < e.config.flushMaxRetries ? (o.attempts += 1, !0) : (e.fulfillRequest([o], 500, ei), !1)
            });
            n.forEach(function(o) {
                if (e.queue = e.queue.concat(o), o.timeout === 0) {
                    e.schedule(e.config.flushIntervalMillis);
                    return
                }
                setTimeout(function() {
                    o.timeout = 0, e.schedule(0)
                }, o.timeout)
            }), this.saveEvents()
        }, t.prototype.schedule = function(e) {
            var i = this;
            this.scheduled || (this.scheduled = setTimeout(function() {
                i.flush(!0).then(function() {
                    i.queue.length > 0 && i.schedule(e)
                })
            }, e))
        }, t.prototype.flush = function(e) {
            return e === void 0 && (e = !1), w(this, void 0, void 0, function() {
                var i, r, n, o = this;
                return _(this, function(a) {
                    switch (a.label) {
                        case 0:
                            return i = [], r = [], this.queue.forEach(function(l) {
                                return l.timeout === 0 ? i.push(l) : r.push(l)
                            }), this.queue = r, this.scheduled && (clearTimeout(this.scheduled), this.scheduled = null), n = si(i, this.config.flushQueueSize), [4, Promise.all(n.map(function(l) {
                                return o.send(l, e)
                            }))];
                        case 1:
                            return a.sent(), [2]
                    }
                })
            })
        }, t.prototype.send = function(e, i) {
            return i === void 0 && (i = !0), w(this, void 0, void 0, function() {
                var r, n, o, a, l;
                return _(this, function(h) {
                    switch (h.label) {
                        case 0:
                            if (!this.config.apiKey) return [2, this.fulfillRequest(e, 400, ii)];
                            r = {
                                api_key: this.config.apiKey,
                                events: e.map(function(c) {
                                    var v = c.event;
                                    v.extra;
                                    var g = Ye(v, ["extra"]);
                                    return g
                                }),
                                options: {
                                    min_id_length: this.config.minIdLength
                                }
                            }, h.label = 1;
                        case 1:
                            return h.trys.push([1, 3, , 4]), n = Rt(this.config.serverUrl, this.config.serverZone, this.config.useBatch).serverUrl, [4, this.config.transportProvider.send(n, r)];
                        case 2:
                            return o = h.sent(), o === null ? (this.fulfillRequest(e, 0, Jt), [2]) : i ? (this.handleResponse(o, e), [3, 4]) : ("body" in o ? this.fulfillRequest(e, o.statusCode, "".concat(o.status, ": ").concat(Ue(o))) : this.fulfillRequest(e, o.statusCode, o.status), [2]);
                        case 3:
                            return a = h.sent(), this.config.loggerProvider.error(a), l = li(a), this.fulfillRequest(e, 0, l), [3, 4];
                        case 4:
                            return [2]
                    }
                })
            })
        }, t.prototype.handleResponse = function(e, i) {
            var r = e.status;
            switch (r) {
                case F.Success:
                    {
                        this.handleSuccessResponse(e, i);
                        break
                    }
                case F.Invalid:
                    {
                        this.handleInvalidResponse(e, i);
                        break
                    }
                case F.PayloadTooLarge:
                    {
                        this.handlePayloadTooLargeResponse(e, i);
                        break
                    }
                case F.RateLimit:
                    {
                        this.handleRateLimitResponse(e, i);
                        break
                    }
                default:
                    {
                        this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(r, "' provided for ").concat(i.length, ' events"}')),
                        this.handleOtherResponse(i);
                        break
                    }
            }
        }, t.prototype.handleSuccessResponse = function(e, i) {
            this.fulfillRequest(i, e.statusCode, $t)
        }, t.prototype.handleInvalidResponse = function(e, i) {
            var r = this;
            if (e.body.missingField || e.body.error.startsWith(ri)) {
                this.fulfillRequest(i, e.statusCode, e.body.error);
                return
            }
            var n = ee(ee(ee(ee([], B(Object.values(e.body.eventsWithInvalidFields)), !1), B(Object.values(e.body.eventsWithMissingFields)), !1), B(Object.values(e.body.eventsWithInvalidIdLengths)), !1), B(e.body.silencedEvents), !1).flat(),
                o = new Set(n),
                a = i.filter(function(l, h) {
                    if (o.has(h)) {
                        r.fulfillRequest([l], e.statusCode, e.body.error);
                        return
                    }
                    return !0
                });
            a.length > 0 && this.config.loggerProvider.warn(Ue(e)), this.addToQueue.apply(this, ee([], B(a), !1))
        }, t.prototype.handlePayloadTooLargeResponse = function(e, i) {
            if (i.length === 1) {
                this.fulfillRequest(i, e.statusCode, e.body.error);
                return
            }
            this.config.loggerProvider.warn(Ue(e)), this.config.flushQueueSize /= 2, this.addToQueue.apply(this, ee([], B(i), !1))
        }, t.prototype.handleRateLimitResponse = function(e, i) {
            var r = this,
                n = Object.keys(e.body.exceededDailyQuotaUsers),
                o = Object.keys(e.body.exceededDailyQuotaDevices),
                a = e.body.throttledEvents,
                l = new Set(n),
                h = new Set(o),
                c = new Set(a),
                v = i.filter(function(g, u) {
                    if (g.event.user_id && l.has(g.event.user_id) || g.event.device_id && h.has(g.event.device_id)) {
                        r.fulfillRequest([g], e.statusCode, e.body.error);
                        return
                    }
                    return c.has(u) && (g.timeout = r.throttleTimeout), !0
                });
            v.length > 0 && this.config.loggerProvider.warn(Ue(e)), this.addToQueue.apply(this, ee([], B(v), !1))
        }, t.prototype.handleOtherResponse = function(e) {
            var i = this;
            this.addToQueue.apply(this, ee([], B(e.map(function(r) {
                return r.timeout = r.attempts * i.retryTimeout, r
            })), !1))
        }, t.prototype.fulfillRequest = function(e, i, r) {
            this.saveEvents(), e.forEach(function(n) {
                return n.callback(Ie(n.event, i, r))
            })
        }, t.prototype.saveEvents = function() {
            if (this.config.storageProvider) {
                var e = Array.from(this.queue.map(function(i) {
                    return i.event
                }));
                this.config.storageProvider.set(this.storageKey, e)
            }
        }, t
    }(),
    vi = function(t) {
        t === void 0 && (t = 0);
        var e = new Error().stack || "";
        return e.split(`
`).slice(2 + t).map(function(i) {
            return i.trim()
        })
    },
    M = function(t) {
        return function() {
            var e = E({}, t.config),
                i = e.loggerProvider,
                r = e.logLevel;
            return {
                logger: i,
                logLevel: r
            }
        }
    },
    hi = function(t, e) {
        var i, r;
        e = e.replace(/\[(\w+)\]/g, ".$1"), e = e.replace(/^\./, "");
        try {
            for (var n = ce(e.split(".")), o = n.next(); !o.done; o = n.next()) {
                var a = o.value;
                if (a in t) t = t[a];
                else return
            }
        } catch (l) {
            i = {
                error: l
            }
        } finally {
            try {
                o && !o.done && (r = n.return) && r.call(n)
            } finally {
                if (i) throw i.error
            }
        }
        return t
    },
    q = function(t, e) {
        return function() {
            var i, r, n = {};
            try {
                for (var o = ce(e), a = o.next(); !a.done; a = o.next()) {
                    var l = a.value;
                    n[l] = hi(t, l)
                }
            } catch (h) {
                i = {
                    error: h
                }
            } finally {
                try {
                    a && !a.done && (r = o.return) && r.call(o)
                } finally {
                    if (i) throw i.error
                }
            }
            return n
        }
    },
    V = function(t, e, i, r, n) {
        return n === void 0 && (n = null),
            function() {
                for (var o = [], a = 0; a < arguments.length; a++) o[a] = arguments[a];
                var l = i(),
                    h = l.logger,
                    c = l.logLevel;
                if (c && c < W.Debug || !c || !h) return t.apply(n, o);
                var v = {
                    type: "invoke public method",
                    name: e,
                    args: o,
                    stacktrace: vi(1),
                    time: {
                        start: new Date().toISOString()
                    },
                    states: {}
                };
                r && v.states && (v.states.before = r());
                var g = t.apply(n, o);
                return g && g.promise ? g.promise.then(function() {
                    r && v.states && (v.states.after = r()), v.time && (v.time.end = new Date().toISOString()), h.debug(JSON.stringify(v, null, 2))
                }) : (r && v.states && (v.states.after = r()), v.time && (v.time.end = new Date().toISOString()), h.debug(JSON.stringify(v, null, 2))), g
            }
    },
    Fe = function(t) {
        return t ? (t ^ Math.random() * 16 >> t / 4).toString(16) : (String(1e7) + String(-1e3) + String(-4e3) + String(-8e3) + String(-1e11)).replace(/[018]/g, Fe)
    },
    xt = function() {
        function t() {
            this.memoryStorage = new Map
        }
        return t.prototype.isEnabled = function() {
            return w(this, void 0, void 0, function() {
                return _(this, function(e) {
                    return [2, !0]
                })
            })
        }, t.prototype.get = function(e) {
            return w(this, void 0, void 0, function() {
                return _(this, function(i) {
                    return [2, this.memoryStorage.get(e)]
                })
            })
        }, t.prototype.getRaw = function(e) {
            return w(this, void 0, void 0, function() {
                var i;
                return _(this, function(r) {
                    switch (r.label) {
                        case 0:
                            return [4, this.get(e)];
                        case 1:
                            return i = r.sent(), [2, i ? JSON.stringify(i) : void 0]
                    }
                })
            })
        }, t.prototype.set = function(e, i) {
            return w(this, void 0, void 0, function() {
                return _(this, function(r) {
                    return this.memoryStorage.set(e, i), [2]
                })
            })
        }, t.prototype.remove = function(e) {
            return w(this, void 0, void 0, function() {
                return _(this, function(i) {
                    return this.memoryStorage.delete(e), [2]
                })
            })
        }, t.prototype.reset = function() {
            return w(this, void 0, void 0, function() {
                return _(this, function(e) {
                    return this.memoryStorage.clear(), [2]
                })
            })
        }, t
    }(),
    et = function() {
        function t() {}
        return t.prototype.send = function(e, i) {
            return Promise.resolve(null)
        }, t.prototype.buildResponse = function(e) {
            var i, r, n, o, a, l, h, c, v, g, u, p, s, f, d, y, I, m, b, P, k, U;
            if (typeof e != "object") return null;
            var D = e.code || 0,
                L = this.buildStatus(D);
            switch (L) {
                case F.Success:
                    return {
                        status: L,
                        statusCode: D,
                        body: {
                            eventsIngested: (i = e.events_ingested) !== null && i !== void 0 ? i : 0,
                            payloadSizeBytes: (r = e.payload_size_bytes) !== null && r !== void 0 ? r : 0,
                            serverUploadTime: (n = e.server_upload_time) !== null && n !== void 0 ? n : 0
                        }
                    };
                case F.Invalid:
                    return {
                        status: L,
                        statusCode: D,
                        body: {
                            error: (o = e.error) !== null && o !== void 0 ? o : "",
                            missingField: (a = e.missing_field) !== null && a !== void 0 ? a : "",
                            eventsWithInvalidFields: (l = e.events_with_invalid_fields) !== null && l !== void 0 ? l : {},
                            eventsWithMissingFields: (h = e.events_with_missing_fields) !== null && h !== void 0 ? h : {},
                            eventsWithInvalidIdLengths: (c = e.events_with_invalid_id_lengths) !== null && c !== void 0 ? c : {},
                            epsThreshold: (v = e.eps_threshold) !== null && v !== void 0 ? v : 0,
                            exceededDailyQuotaDevices: (g = e.exceeded_daily_quota_devices) !== null && g !== void 0 ? g : {},
                            silencedDevices: (u = e.silenced_devices) !== null && u !== void 0 ? u : [],
                            silencedEvents: (p = e.silenced_events) !== null && p !== void 0 ? p : [],
                            throttledDevices: (s = e.throttled_devices) !== null && s !== void 0 ? s : {},
                            throttledEvents: (f = e.throttled_events) !== null && f !== void 0 ? f : []
                        }
                    };
                case F.PayloadTooLarge:
                    return {
                        status: L,
                        statusCode: D,
                        body: {
                            error: (d = e.error) !== null && d !== void 0 ? d : ""
                        }
                    };
                case F.RateLimit:
                    return {
                        status: L,
                        statusCode: D,
                        body: {
                            error: (y = e.error) !== null && y !== void 0 ? y : "",
                            epsThreshold: (I = e.eps_threshold) !== null && I !== void 0 ? I : 0,
                            throttledDevices: (m = e.throttled_devices) !== null && m !== void 0 ? m : {},
                            throttledUsers: (b = e.throttled_users) !== null && b !== void 0 ? b : {},
                            exceededDailyQuotaDevices: (P = e.exceeded_daily_quota_devices) !== null && P !== void 0 ? P : {},
                            exceededDailyQuotaUsers: (k = e.exceeded_daily_quota_users) !== null && k !== void 0 ? k : {},
                            throttledEvents: (U = e.throttled_events) !== null && U !== void 0 ? U : []
                        }
                    };
                case F.Timeout:
                default:
                    return {
                        status: L,
                        statusCode: D
                    }
            }
        }, t.prototype.buildStatus = function(e) {
            return e >= 200 && e < 300 ? F.Success : e === 429 ? F.RateLimit : e === 413 ? F.PayloadTooLarge : e === 408 ? F.Timeout : e >= 400 && e < 500 ? F.Invalid : e >= 500 ? F.Failed : F.Unknown
        }, t
    }(),
    pi = function() {
        function t() {}
        return t.prototype.getApplicationContext = function() {
            return {
                versionName: this.versionName,
                language: gi(),
                platform: "Web",
                os: void 0,
                deviceModel: void 0
            }
        }, t
    }(),
    gi = function() {
        return typeof navigator < "u" && (navigator.languages && navigator.languages[0] || navigator.language) || ""
    },
    mi = function() {
        function t() {
            this.queue = []
        }
        return t.prototype.logEvent = function(e) {
            this.receiver ? this.receiver(e) : this.queue.length < 512 && this.queue.push(e)
        }, t.prototype.setEventReceiver = function(e) {
            this.receiver = e, this.queue.length > 0 && (this.queue.forEach(function(i) {
                e(i)
            }), this.queue = [])
        }, t
    }(),
    re = function() {
        return re = Object.assign || function(e) {
            for (var i, r = 1, n = arguments.length; r < n; r++) {
                i = arguments[r];
                for (var o in i) Object.prototype.hasOwnProperty.call(i, o) && (e[o] = i[o])
            }
            return e
        }, re.apply(this, arguments)
    },
    Le = function(t, e) {
        var i = ["string", "number", "boolean", "undefined"],
            r = typeof t,
            n = typeof e;
        if (r !== n) return !1;
        for (var o = 0, a = i; o < a.length; o++) {
            var l = a[o];
            if (l === r) return t === e
        }
        if (t == null && e == null) return !0;
        if (t == null || e == null || t.length !== e.length) return !1;
        var h = Array.isArray(t),
            c = Array.isArray(e);
        if (h !== c) return !1;
        if (h && c) {
            for (var v = 0; v < t.length; v++)
                if (!Le(t[v], e[v])) return !1
        } else {
            var g = Object.keys(t).sort(),
                u = Object.keys(e).sort();
            if (!Le(g, u)) return !1;
            var p = !0;
            return Object.keys(t).forEach(function(s) {
                Le(t[s], e[s]) || (p = !1)
            }), p
        }
        return !0
    },
    yi = "$set",
    bi = "$unset",
    wi = "$clearAll";
Object.entries || (Object.entries = function(t) {
    for (var e = Object.keys(t), i = e.length, r = new Array(i); i--;) r[i] = [e[i], t[e[i]]];
    return r
});
var _i = function() {
        function t() {
            this.identity = {
                userProperties: {}
            }, this.listeners = new Set
        }
        return t.prototype.editIdentity = function() {
            var e = this,
                i = re({}, this.identity.userProperties),
                r = re(re({}, this.identity), {
                    userProperties: i
                });
            return {
                setUserId: function(n) {
                    return r.userId = n, this
                },
                setDeviceId: function(n) {
                    return r.deviceId = n, this
                },
                setUserProperties: function(n) {
                    return r.userProperties = n, this
                },
                setOptOut: function(n) {
                    return r.optOut = n, this
                },
                updateUserProperties: function(n) {
                    for (var o = r.userProperties || {}, a = 0, l = Object.entries(n); a < l.length; a++) {
                        var h = l[a],
                            c = h[0],
                            v = h[1];
                        switch (c) {
                            case yi:
                                for (var g = 0, u = Object.entries(v); g < u.length; g++) {
                                    var p = u[g],
                                        s = p[0],
                                        f = p[1];
                                    o[s] = f
                                }
                                break;
                            case bi:
                                for (var d = 0, y = Object.keys(v); d < y.length; d++) {
                                    var s = y[d];
                                    delete o[s]
                                }
                                break;
                            case wi:
                                o = {};
                                break
                        }
                    }
                    return r.userProperties = o, this
                },
                commit: function() {
                    return e.setIdentity(r), this
                }
            }
        }, t.prototype.getIdentity = function() {
            return re({}, this.identity)
        }, t.prototype.setIdentity = function(e) {
            var i = re({}, this.identity);
            this.identity = re({}, e), Le(i, this.identity) || this.listeners.forEach(function(r) {
                r(e)
            })
        }, t.prototype.addIdentityListener = function(e) {
            this.listeners.add(e)
        }, t.prototype.removeIdentityListener = function(e) {
            this.listeners.delete(e)
        }, t
    }(),
    Ee = typeof globalThis < "u" ? globalThis : typeof global < "u" ? global : self,
    Ei = function() {
        function t() {
            this.identityStore = new _i, this.eventBridge = new mi, this.applicationContextProvider = new pi
        }
        return t.getInstance = function(e) {
            return Ee.analyticsConnectorInstances || (Ee.analyticsConnectorInstances = {}), Ee.analyticsConnectorInstances[e] || (Ee.analyticsConnectorInstances[e] = new t), Ee.analyticsConnectorInstances[e]
        }, t
    }(),
    me = function(t) {
        return t === void 0 && (t = "$default_instance"), Ei.getInstance(t)
    },
    Ii = function(t, e) {
        me(e).identityStore.editIdentity().setUserId(t).commit()
    },
    Si = function(t, e) {
        me(e).identityStore.editIdentity().setDeviceId(t).commit()
    },
    Ti = function(t, e) {
        me(e).identityStore.editIdentity().setOptOut(t).commit()
    },
    Z = function() {
        if (typeof globalThis < "u") return globalThis;
        if (typeof window < "u") return window;
        if (typeof self < "u") return self;
        if (typeof global < "u") return global
    },
    Ze = function() {
        var t, e = Z();
        if (!(!((t = e == null ? void 0 : e.location) === null || t === void 0) && t.search)) return {};
        var i = e.location.search.substring(1).split("&").filter(Boolean),
            r = i.reduce(function(n, o) {
                var a = o.split("=", 2),
                    l = ct(a[0]),
                    h = ct(a[1]);
                return h && (n[l] = h), n
            }, {});
        return r
    },
    ct = function(t) {
        t === void 0 && (t = "");
        try {
            return decodeURIComponent(t)
        } catch {
            return ""
        }
    },
    ki = "utm_campaign",
    Oi = "utm_content",
    Pi = "utm_id",
    Ri = "utm_medium",
    xi = "utm_source",
    Ai = "utm_term",
    dt = "dclid",
    lt = "fbclid",
    ft = "gbraid",
    vt = "gclid",
    ht = "ko_click_id",
    pt = "li_fat_id",
    gt = "msclkid",
    mt = "rtd_cid",
    yt = "ttclid",
    bt = "twclid",
    wt = "wbraid",
    tt = {
        utm_campaign: void 0,
        utm_content: void 0,
        utm_id: void 0,
        utm_medium: void 0,
        utm_source: void 0,
        utm_term: void 0,
        referrer: void 0,
        referring_domain: void 0,
        dclid: void 0,
        gbraid: void 0,
        gclid: void 0,
        fbclid: void 0,
        ko_click_id: void 0,
        li_fat_id: void 0,
        msclkid: void 0,
        rtd_cid: void 0,
        ttclid: void 0,
        twclid: void 0,
        wbraid: void 0
    },
    At = function() {
        function t() {}
        return t.prototype.parse = function() {
            return w(this, void 0, void 0, function() {
                return _(this, function(e) {
                    return [2, E(E(E(E({}, tt), this.getUtmParam()), this.getReferrer()), this.getClickIds())]
                })
            })
        }, t.prototype.getUtmParam = function() {
            var e = Ze(),
                i = e[ki],
                r = e[Oi],
                n = e[Pi],
                o = e[Ri],
                a = e[xi],
                l = e[Ai];
            return {
                utm_campaign: i,
                utm_content: r,
                utm_id: n,
                utm_medium: o,
                utm_source: a,
                utm_term: l
            }
        }, t.prototype.getReferrer = function() {
            var e, i, r = {
                referrer: void 0,
                referring_domain: void 0
            };
            try {
                r.referrer = document.referrer || void 0, r.referring_domain = (i = (e = r.referrer) === null || e === void 0 ? void 0 : e.split("/")[2]) !== null && i !== void 0 ? i : void 0
            } catch {}
            return r
        }, t.prototype.getClickIds = function() {
            var e, i = Ze();
            return e = {}, e[dt] = i[dt], e[lt] = i[lt], e[ft] = i[ft], e[vt] = i[vt], e[ht] = i[ht], e[pt] = i[pt], e[gt] = i[gt], e[mt] = i[mt], e[yt] = i[yt], e[bt] = i[bt], e[wt] = i[wt], e
        }, t
    }(),
    Ct = function(t, e, i) {
        return e === void 0 && (e = ""), i === void 0 && (i = 10), [Ve, e, t.substring(0, i)].filter(Boolean).join("_")
    },
    Ci = function(t) {
        return "".concat(Ve.toLowerCase(), "_").concat(t.substring(0, 6))
    },
    Ui = function(t) {
        return typeof t == "boolean" ? t : !!(t != null && t.fileDownloads)
    },
    Di = function(t) {
        return typeof t == "boolean" ? t : !!(t != null && t.formInteractions)
    },
    Ni = function(t) {
        return typeof t == "boolean" ? t : !!((t == null ? void 0 : t.pageViews) === !0 || t != null && t.pageViews && typeof t.pageViews == "object")
    },
    Li = function(t) {
        return typeof t == "boolean" ? t : !!(t != null && t.sessions)
    },
    Mi = function(t) {
        var e, i = !((e = t.attribution) === null || e === void 0) && e.trackPageViews ? "attribution" : function() {
                return !1
            },
            r = void 0,
            n = "Page View",
            o = Ni(t.defaultTracking);
        return o && (i = void 0, n = void 0, t.defaultTracking && typeof t.defaultTracking == "object" && t.defaultTracking.pageViews && typeof t.defaultTracking.pageViews == "object" && ("trackOn" in t.defaultTracking.pageViews && (i = t.defaultTracking.pageViews.trackOn), "trackHistoryChanges" in t.defaultTracking.pageViews && (r = t.defaultTracking.pageViews.trackHistoryChanges), "eventType" in t.defaultTracking.pageViews && t.defaultTracking.pageViews.eventType && (n = t.defaultTracking.pageViews.eventType))), {
            trackOn: i,
            trackHistoryChanges: r,
            eventType: n
        }
    },
    qi = function() {
        var t, e, i, r;
        if (typeof navigator > "u") return "";
        var n = navigator.userLanguage;
        return (r = (i = (e = (t = navigator.languages) === null || t === void 0 ? void 0 : t[0]) !== null && e !== void 0 ? e : navigator.language) !== null && i !== void 0 ? i : n) !== null && r !== void 0 ? r : ""
    },
    Vi = function() {
        function t() {
            this.name = "identity", this.type = H.BEFORE, this.identityStore = me().identityStore
        }
        return t.prototype.execute = function(e) {
            return w(this, void 0, void 0, function() {
                var i;
                return _(this, function(r) {
                    return i = e.user_properties, i && this.identityStore.editIdentity().updateUserProperties(i).commit(), [2, e]
                })
            })
        }, t.prototype.setup = function(e) {
            return w(this, void 0, void 0, function() {
                return _(this, function(i) {
                    return e.instanceName && (this.identityStore = me(e.instanceName).identityStore), [2]
                })
            })
        }, t
    }(),
    $e = function() {
        function t(e) {
            this.options = E({}, e)
        }
        return t.prototype.isEnabled = function() {
            return w(this, void 0, void 0, function() {
                var e, i, r;
                return _(this, function(n) {
                    switch (n.label) {
                        case 0:
                            if (!Z()) return [2, !1];
                            t.testValue = String(Date.now()), e = new t(this.options), i = "AMP_TEST", n.label = 1;
                        case 1:
                            return n.trys.push([1, 4, 5, 7]), [4, e.set(i, t.testValue)];
                        case 2:
                            return n.sent(), [4, e.get(i)];
                        case 3:
                            return r = n.sent(), [2, r === t.testValue];
                        case 4:
                            return n.sent(), [2, !1];
                        case 5:
                            return [4, e.remove(i)];
                        case 6:
                            return n.sent(), [7];
                        case 7:
                            return [2]
                    }
                })
            })
        }, t.prototype.get = function(e) {
            return w(this, void 0, void 0, function() {
                var i;
                return _(this, function(r) {
                    switch (r.label) {
                        case 0:
                            return [4, this.getRaw(e)];
                        case 1:
                            if (i = r.sent(), !i) return [2, void 0];
                            try {
                                try {
                                    i = decodeURIComponent(atob(i))
                                } catch {}
                                return [2, JSON.parse(i)]
                            } catch {
                                return [2, void 0]
                            }
                            return [2]
                    }
                })
            })
        }, t.prototype.getRaw = function(e) {
            var i;
            return w(this, void 0, void 0, function() {
                var r, n, o;
                return _(this, function(a) {
                    return r = Z(), n = (i = r == null ? void 0 : r.document.cookie.split("; ")) !== null && i !== void 0 ? i : [], o = n.find(function(l) {
                        return l.indexOf(e + "=") === 0
                    }), o ? [2, o.substring(e.length + 1)] : [2, void 0]
                })
            })
        }, t.prototype.set = function(e, i) {
            var r;
            return w(this, void 0, void 0, function() {
                var n, o, a, l, h, c;
                return _(this, function(v) {
                    try {
                        n = (r = this.options.expirationDays) !== null && r !== void 0 ? r : 0, o = i !== null ? n : -1, a = void 0, o && (l = new Date, l.setTime(l.getTime() + o * 24 * 60 * 60 * 1e3), a = l), h = "".concat(e, "=").concat(btoa(encodeURIComponent(JSON.stringify(i)))), a && (h += "; expires=".concat(a.toUTCString())), h += "; path=/", this.options.domain && (h += "; domain=".concat(this.options.domain)), this.options.secure && (h += "; Secure"), this.options.sameSite && (h += "; SameSite=".concat(this.options.sameSite)), c = Z(), c && (c.document.cookie = h)
                    } catch {}
                    return [2]
                })
            })
        }, t.prototype.remove = function(e) {
            return w(this, void 0, void 0, function() {
                return _(this, function(i) {
                    switch (i.label) {
                        case 0:
                            return [4, this.set(e, null)];
                        case 1:
                            return i.sent(), [2]
                    }
                })
            })
        }, t.prototype.reset = function() {
            return w(this, void 0, void 0, function() {
                return _(this, function(e) {
                    return [2]
                })
            })
        }, t
    }(),
    Fi = function(t) {
        ke(e, t);

        function e() {
            return t !== null && t.apply(this, arguments) || this
        }
        return e.prototype.send = function(i, r) {
            return w(this, void 0, void 0, function() {
                var n, o, a;
                return _(this, function(l) {
                    switch (l.label) {
                        case 0:
                            if (typeof fetch > "u") throw new Error("FetchTransport is not supported");
                            return n = {
                                headers: {
                                    "Content-Type": "application/json",
                                    Accept: "*/*"
                                },
                                body: JSON.stringify(r),
                                method: "POST"
                            }, [4, fetch(i, n)];
                        case 1:
                            return o = l.sent(), [4, o.json()];
                        case 2:
                            return a = l.sent(), [2, this.buildResponse(a)]
                    }
                })
            })
        }, e
    }(et),
    Bi = function(t) {
        var e = {};
        for (var i in t) {
            var r = t[i];
            r && (e[i] = r)
        }
        return e
    },
    ji = function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        var i, r = {},
            n = Z(),
            o = void 0,
            a, l = B(t, 2),
            h = l[0],
            c = l[1];
        h && "init" in h ? (i = h, c && (r = c)) : h && (r = h);
        var v = function() {
                return w(void 0, void 0, void 0, function() {
                    var d, y, I;
                    return _(this, function(m) {
                        switch (m.label) {
                            case 0:
                                return y = {
                                    event_type: (I = r.eventType) !== null && I !== void 0 ? I : "Page View"
                                }, d = [{}], [4, zi()];
                            case 1:
                                return [2, (y.event_properties = E.apply(void 0, [E.apply(void 0, d.concat([m.sent()])), {
                                    page_domain: typeof location < "u" && location.hostname || "",
                                    page_location: typeof location < "u" && location.href || "",
                                    page_path: typeof location < "u" && location.pathname || "",
                                    page_title: typeof document < "u" && document.title || "",
                                    page_url: typeof location < "u" && location.href.split("?")[0] || ""
                                }]), y)]
                        }
                    })
                })
            },
            g = function() {
                return typeof r.trackOn > "u" || typeof r.trackOn == "function" && r.trackOn()
            },
            u = typeof location < "u" ? location.href : null,
            p = function() {
                return w(void 0, void 0, void 0, function() {
                    var d, y, I, m;
                    return _(this, function(b) {
                        switch (b.label) {
                            case 0:
                                return d = location.href, y = Ki(r.trackHistoryChanges, d, u || "") && g(), u = d, y ? (o == null || o.log("Tracking page view event"), i != null ? [3, 1] : [3, 3]) : [3, 4];
                            case 1:
                                return m = (I = i).track, [4, v()];
                            case 2:
                                m.apply(I, [b.sent()]), b.label = 3;
                            case 3:
                                b.label = 4;
                            case 4:
                                return [2]
                        }
                    })
                })
            },
            s = function() {
                p()
            },
            f = {
                name: "page-view-tracking",
                type: H.ENRICHMENT,
                setup: function(d, y) {
                    return w(void 0, void 0, void 0, function() {
                        var I, m, b, P, k;
                        return _(this, function(U) {
                            switch (U.label) {
                                case 0:
                                    return i = i ? ? y, i ? (o = d.loggerProvider, o.log("Installing @amplitude/plugin-page-view-tracking-browser"), r.trackOn = !((P = d.attribution) === null || P === void 0) && P.trackPageViews ? "attribution" : r.trackOn, !y && (!((k = d.attribution) === null || k === void 0) && k.trackPageViews) && (o.warn("@amplitude/plugin-page-view-tracking-browser overrides page view tracking behavior defined in @amplitude/analytics-browser. Resolve by disabling page view tracking in @amplitude/analytics-browser."), d.attribution.trackPageViews = !1), r.trackHistoryChanges && n && (n.addEventListener("popstate", s), a = n.history.pushState, n.history.pushState = new Proxy(n.history.pushState, {
                                        apply: function(D, L, G) {
                                            var $ = B(G, 3),
                                                R = $[0],
                                                Q = $[1],
                                                te = $[2];
                                            D.apply(L, [R, Q, te]), p()
                                        }
                                    })), g() ? (o.log("Tracking page view event"), b = (m = i).track, [4, v()]) : [3, 2]) : (I = h ? "Options" : "undefined", d.loggerProvider.error("Argument of type '".concat(I, "' is not assignable to parameter of type 'BrowserClient'.")), [2]);
                                case 1:
                                    b.apply(m, [U.sent()]), U.label = 2;
                                case 2:
                                    return [2]
                            }
                        })
                    })
                },
                execute: function(d) {
                    return w(void 0, void 0, void 0, function() {
                        var y;
                        return _(this, function(I) {
                            switch (I.label) {
                                case 0:
                                    return r.trackOn === "attribution" && Gi(d) ? (o == null || o.log("Enriching campaign event to page view event with campaign parameters"), [4, v()]) : [3, 2];
                                case 1:
                                    y = I.sent(), d.event_type = y.event_type, d.event_properties = E(E({}, d.event_properties), y.event_properties), I.label = 2;
                                case 2:
                                    return [2, d]
                            }
                        })
                    })
                },
                teardown: function() {
                    return w(void 0, void 0, void 0, function() {
                        return _(this, function(d) {
                            return n && (n.removeEventListener("popstate", s), a && (n.history.pushState = a)), [2]
                        })
                    })
                }
            };
        return f.__trackHistoryPageView = p, f
    },
    zi = function() {
        return w(void 0, void 0, void 0, function() {
            var t;
            return _(this, function(e) {
                switch (e.label) {
                    case 0:
                        return t = Bi, [4, new At().parse()];
                    case 1:
                        return [2, t.apply(void 0, [e.sent()])]
                }
            })
        })
    },
    Gi = function(t) {
        if (t.event_type === "$identify" && t.user_properties) {
            var e = t.user_properties,
                i = e[z.SET] || {},
                r = e[z.UNSET] || {},
                n = ee(ee([], B(Object.keys(i)), !1), B(Object.keys(r)), !1);
            return Object.keys(tt).every(function(o) {
                return n.includes(o)
            })
        }
        return !1
    },
    Ki = function(t, e, i) {
        switch (t) {
            case "pathOnly":
                return e.split("?")[0] !== i.split("?")[0];
            default:
                return e !== i
        }
    },
    Hi = function(t, e, i) {
        return e === void 0 && (e = ""), i === void 0 && (i = 10), [Ve, e, t.substring(0, i)].filter(Boolean).join("_")
    },
    _t = function(t) {
        var e = t.split(".");
        return e.length <= 2 ? t : e.slice(e.length - 2, e.length).join(".")
    },
    Wi = function(t, e, i) {
        var r;
        t.referrer;
        var n = t.referring_domain,
            o = Ye(t, ["referrer", "referring_domain"]),
            a = e || {};
        a.referrer;
        var l = a.referring_domain,
            h = Ye(a, ["referrer", "referring_domain"]);
        if (t.referring_domain && (!((r = i.excludeReferrers) === null || r === void 0) && r.includes(t.referring_domain))) return !1;
        var c = JSON.stringify(o) !== JSON.stringify(h),
            v = _t(n || "") !== _t(l || "");
        return !e || c || v
    },
    Qi = function(t, e) {
        var i = E(E({}, tt), t),
            r = Object.entries(i).reduce(function(n, o) {
                var a, l = B(o, 2),
                    h = l[0],
                    c = l[1];
                return n.setOnce("initial_".concat(h), (a = c ? ? e.initialEmptyValue) !== null && a !== void 0 ? a : "EMPTY"), c ? n.set(h, c) : n.unset(h)
            }, new qe);
        return Pt(r)
    },
    Yi = function() {
        for (var t = this, e, i = [], r = 0; r < arguments.length; r++) i[r] = arguments[r];
        var n, o = {},
            a = B(i, 2),
            l = a[0],
            h = a[1];
        l && "init" in l ? (n = l, h && (o = h)) : l && (o = l);
        var c = (e = o.excludeReferrers) !== null && e !== void 0 ? e : [];
        typeof location < "u" && c.unshift(location.hostname), o = E(E({
            disabled: !1,
            initialEmptyValue: "EMPTY",
            resetSessionOnNewCampaign: !1
        }, o), {
            excludeReferrers: c
        });
        var v = {
            name: "web-attribution",
            type: H.BEFORE,
            setup: function(g, u) {
                var p;
                return w(this, void 0, void 0, function() {
                    var s, f, d, y, I, m, b, P;
                    return _(this, function(k) {
                        switch (k.label) {
                            case 0:
                                return n = n ? ? u, n ? o.disabled ? (g.loggerProvider.log("@amplitude/plugin-web-attribution-browser is disabled. Attribution is not tracked."), [2]) : (g.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."), !u && !(!((p = g.attribution) === null || p === void 0) && p.disabled) && (g.loggerProvider.warn("@amplitude/plugin-web-attribution-browser overrides web attribution behavior defined in @amplitude/analytics-browser. Resolve by disabling web attribution tracking in @amplitude/analytics-browser."), g.attribution = {
                                    disabled: !0
                                }), f = g.cookieStorage, d = Hi(g.apiKey, "MKTG"), [4, Promise.all([new At().parse(), f.get(d)])]) : (s = l ? "Options" : "undefined", g.loggerProvider.error("Argument of type '".concat(s, "' is not assignable to parameter of type 'BrowserClient'.")), [2]);
                            case 1:
                                return y = B.apply(void 0, [k.sent(), 2]), I = y[0], m = y[1], b = this.__pluginEnabledOverride, (b ? ? Wi(I, m, o)) && (o.resetSessionOnNewCampaign && (n.setSessionId(Date.now()), g.loggerProvider.log("Created a new session for new campaign.")), g.loggerProvider.log("Tracking attribution."), P = Qi(I, o), n.track(P), f.set(d, I)), [2]
                        }
                    })
                })
            },
            execute: function(g) {
                return w(t, void 0, void 0, function() {
                    return _(this, function(u) {
                        return [2, g]
                    })
                })
            }
        };
        return v.__pluginEnabledOverride = void 0, v
    },
    De = 1e3,
    Ut = function() {
        function t(e) {
            this.loggerProvider = e == null ? void 0 : e.loggerProvider
        }
        return t.prototype.isEnabled = function() {
            return w(this, void 0, void 0, function() {
                var e, i, r, n;
                return _(this, function(o) {
                    switch (o.label) {
                        case 0:
                            if (!Z()) return [2, !1];
                            e = String(Date.now()), i = new t, r = "AMP_TEST", o.label = 1;
                        case 1:
                            return o.trys.push([1, 4, 5, 7]), [4, i.set(r, e)];
                        case 2:
                            return o.sent(), [4, i.get(r)];
                        case 3:
                            return n = o.sent(), [2, n === e];
                        case 4:
                            return o.sent(), [2, !1];
                        case 5:
                            return [4, i.remove(r)];
                        case 6:
                            return o.sent(), [7];
                        case 7:
                            return [2]
                    }
                })
            })
        }, t.prototype.get = function(e) {
            return w(this, void 0, void 0, function() {
                var i;
                return _(this, function(r) {
                    switch (r.label) {
                        case 0:
                            return r.trys.push([0, 2, , 3]), [4, this.getRaw(e)];
                        case 1:
                            return i = r.sent(), i ? [2, JSON.parse(i)] : [2, void 0];
                        case 2:
                            return r.sent(), [2, void 0];
                        case 3:
                            return [2]
                    }
                })
            })
        }, t.prototype.getRaw = function(e) {
            var i;
            return w(this, void 0, void 0, function() {
                return _(this, function(r) {
                    return [2, ((i = Z()) === null || i === void 0 ? void 0 : i.localStorage.getItem(e)) || void 0]
                })
            })
        }, t.prototype.set = function(e, i) {
            var r, n;
            return w(this, void 0, void 0, function() {
                var o, a, l;
                return _(this, function(h) {
                    o = Array.isArray(i) && i.length > De;
                    try {
                        a = JSON.stringify(o ? i.slice(0, De) : i), (r = Z()) === null || r === void 0 || r.localStorage.setItem(e, a)
                    } catch {}
                    return o && (l = i.length - De, (n = this.loggerProvider) === null || n === void 0 || n.error("Failed to save ".concat(l, " events because the queue length exceeded ").concat(De, "."))), [2]
                })
            })
        }, t.prototype.remove = function(e) {
            var i;
            return w(this, void 0, void 0, function() {
                return _(this, function(r) {
                    try {
                        (i = Z()) === null || i === void 0 || i.localStorage.removeItem(e)
                    } catch {}
                    return [2]
                })
            })
        }, t.prototype.reset = function() {
            var e;
            return w(this, void 0, void 0, function() {
                return _(this, function(i) {
                    try {
                        (e = Z()) === null || e === void 0 || e.localStorage.clear()
                    } catch {}
                    return [2]
                })
            })
        }, t
    }(),
    Xi = function(t) {
        ke(e, t);

        function e() {
            var i = t !== null && t.apply(this, arguments) || this;
            return i.state = {
                done: 4
            }, i
        }
        return e.prototype.send = function(i, r) {
            return w(this, void 0, void 0, function() {
                var n = this;
                return _(this, function(o) {
                    return [2, new Promise(function(a, l) {
                        typeof XMLHttpRequest > "u" && l(new Error("XHRTransport is not supported."));
                        var h = new XMLHttpRequest;
                        h.open("POST", i, !0), h.onreadystatechange = function() {
                            if (h.readyState === n.state.done) try {
                                var c = h.responseText,
                                    v = JSON.parse(c),
                                    g = n.buildResponse(v);
                                a(g)
                            } catch (u) {
                                l(u)
                            }
                        }, h.setRequestHeader("Content-Type", "application/json"), h.setRequestHeader("Accept", "*/*"), h.send(JSON.stringify(r))
                    })]
                })
            })
        }, e
    }(et),
    Zi = function(t) {
        ke(e, t);

        function e() {
            return t !== null && t.apply(this, arguments) || this
        }
        return e.prototype.send = function(i, r) {
            return w(this, void 0, void 0, function() {
                var n = this;
                return _(this, function(o) {
                    return [2, new Promise(function(a, l) {
                        var h = Z();
                        if (!(h != null && h.navigator.sendBeacon)) throw new Error("SendBeaconTransport is not supported");
                        try {
                            var c = JSON.stringify(r),
                                v = h.navigator.sendBeacon(i, JSON.stringify(r));
                            return a(v ? n.buildResponse({
                                code: 200,
                                events_ingested: r.events.length,
                                payload_size_bytes: c.length,
                                server_upload_time: Date.now()
                            }) : n.buildResponse({
                                code: 500
                            }))
                        } catch (g) {
                            l(g)
                        }
                    })]
                })
            })
        }, e
    }(et),
    Oe = function() {
        var t = new xt,
            e = {
                deviceManufacturer: !0,
                deviceModel: !0,
                ipAddress: !0,
                language: !0,
                osName: !0,
                osVersion: !0,
                platform: !0
            };
        return {
            cookieExpiration: 365,
            cookieSameSite: "Lax",
            cookieSecure: !1,
            cookieStorage: t,
            cookieUpgrade: !0,
            disableCookies: !1,
            domain: "",
            sessionTimeout: 30 * 60 * 1e3,
            trackingOptions: e,
            transportProvider: new Fi
        }
    },
    Et = function(t) {
        ke(e, t);

        function e(i, r) {
            var n = this,
                o, a, l, h, c, v, g, u, p, s = Oe();
            return n = t.call(this, E(E({
                flushIntervalMillis: 1e3,
                flushMaxRetries: 5,
                flushQueueSize: 30,
                transportProvider: s.transportProvider
            }, r), {
                apiKey: i
            })) || this, n._optOut = !1, n.cookieStorage = (o = r == null ? void 0 : r.cookieStorage) !== null && o !== void 0 ? o : s.cookieStorage, n.deviceId = r == null ? void 0 : r.deviceId, n.lastEventId = r == null ? void 0 : r.lastEventId, n.lastEventTime = r == null ? void 0 : r.lastEventTime, n.optOut = !!(r != null && r.optOut), n.sessionId = r == null ? void 0 : r.sessionId, n.userId = r == null ? void 0 : r.userId, n.appVersion = r == null ? void 0 : r.appVersion, n.attribution = r == null ? void 0 : r.attribution, n.cookieExpiration = (a = r == null ? void 0 : r.cookieExpiration) !== null && a !== void 0 ? a : s.cookieExpiration, n.cookieSameSite = (l = r == null ? void 0 : r.cookieSameSite) !== null && l !== void 0 ? l : s.cookieSameSite, n.cookieSecure = (h = r == null ? void 0 : r.cookieSecure) !== null && h !== void 0 ? h : s.cookieSecure, n.cookieUpgrade = (c = r == null ? void 0 : r.cookieUpgrade) !== null && c !== void 0 ? c : s.cookieUpgrade, n.defaultTracking = r == null ? void 0 : r.defaultTracking, n.disableCookies = (v = r == null ? void 0 : r.disableCookies) !== null && v !== void 0 ? v : s.disableCookies, n.defaultTracking = r == null ? void 0 : r.defaultTracking, n.domain = (g = r == null ? void 0 : r.domain) !== null && g !== void 0 ? g : s.domain, n.partnerId = r == null ? void 0 : r.partnerId, n.sessionTimeout = (u = r == null ? void 0 : r.sessionTimeout) !== null && u !== void 0 ? u : s.sessionTimeout, n.trackingOptions = (p = r == null ? void 0 : r.trackingOptions) !== null && p !== void 0 ? p : s.trackingOptions, n
        }
        return Object.defineProperty(e.prototype, "deviceId", {
            get: function() {
                return this._deviceId
            },
            set: function(i) {
                this._deviceId !== i && (this._deviceId = i, this.updateStorage())
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(e.prototype, "userId", {
            get: function() {
                return this._userId
            },
            set: function(i) {
                this._userId !== i && (this._userId = i, this.updateStorage())
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(e.prototype, "sessionId", {
            get: function() {
                return this._sessionId
            },
            set: function(i) {
                this._sessionId !== i && (this._sessionId = i, this.updateStorage())
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(e.prototype, "optOut", {
            get: function() {
                return this._optOut
            },
            set: function(i) {
                this._optOut !== i && (this._optOut = i, this.updateStorage())
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(e.prototype, "lastEventTime", {
            get: function() {
                return this._lastEventTime
            },
            set: function(i) {
                this._lastEventTime !== i && (this._lastEventTime = i, this.updateStorage())
            },
            enumerable: !1,
            configurable: !0
        }), Object.defineProperty(e.prototype, "lastEventId", {
            get: function() {
                return this._lastEventId
            },
            set: function(i) {
                this._lastEventId !== i && (this._lastEventId = i, this.updateStorage())
            },
            enumerable: !1,
            configurable: !0
        }), e.prototype.updateStorage = function() {
            var i, r = {
                deviceId: this._deviceId,
                userId: this._userId,
                sessionId: this._sessionId,
                optOut: this._optOut,
                lastEventTime: this._lastEventTime,
                lastEventId: this._lastEventId
            };
            (i = this.cookieStorage) === null || i === void 0 || i.set(Ct(this.apiKey), r)
        }, e
    }(ci),
    $i = function(t, e) {
        return w(void 0, void 0, void 0, function() {
            var i, r, n, o, a, l, h, c, v, g, u, p, s, f, d;
            return _(this, function(y) {
                switch (y.label) {
                    case 0:
                        return i = Oe(), r = (f = e == null ? void 0 : e.deviceId) !== null && f !== void 0 ? f : Fe(), n = e == null ? void 0 : e.lastEventId, o = e == null ? void 0 : e.lastEventTime, a = e == null ? void 0 : e.optOut, l = e == null ? void 0 : e.sessionId, h = e == null ? void 0 : e.userId, c = e == null ? void 0 : e.cookieStorage, v = e == null ? void 0 : e.domain, g = Et.bind, u = [void 0, t], p = [E({}, e)], s = {
                            cookieStorage: c,
                            deviceId: r,
                            domain: v,
                            lastEventId: n,
                            lastEventTime: o,
                            optOut: a,
                            sessionId: l
                        }, [4, er(e)];
                    case 1:
                        return [2, new(g.apply(Et, u.concat([E.apply(void 0, p.concat([(s.storageProvider = y.sent(), s.trackingOptions = E(E({}, i.trackingOptions), e == null ? void 0 : e.trackingOptions), s.transportProvider = (d = e == null ? void 0 : e.transportProvider) !== null && d !== void 0 ? d : Nt(e == null ? void 0 : e.transport), s.userId = h, s)]))])))]
                }
            })
        })
    },
    Dt = function(t, e) {
        return e === void 0 && (e = Oe()), w(void 0, void 0, void 0, function() {
            var i, r, n;
            return _(this, function(o) {
                switch (o.label) {
                    case 0:
                        return i = E(E({}, e), t), r = t == null ? void 0 : t.cookieStorage, n = !r, n ? [3, 2] : [4, r.isEnabled()];
                    case 1:
                        n = !o.sent(), o.label = 2;
                    case 2:
                        return n ? [2, Ji(i)] : [2, r]
                }
            })
        })
    },
    Ji = function(t) {
        return w(void 0, void 0, void 0, function() {
            var e, i;
            return _(this, function(r) {
                switch (r.label) {
                    case 0:
                        return e = new $e({
                            domain: t.domain,
                            expirationDays: t.cookieExpiration,
                            sameSite: t.cookieSameSite,
                            secure: t.cookieSecure
                        }), i = t.disableCookies, i ? [3, 2] : [4, e.isEnabled()];
                    case 1:
                        i = !r.sent(), r.label = 2;
                    case 2:
                        return i ? (e = new Ut, [4, e.isEnabled()]) : [3, 4];
                    case 3:
                        r.sent() || (e = new xt), r.label = 4;
                    case 4:
                        return [2, e]
                }
            })
        })
    },
    er = function(t) {
        return w(void 0, void 0, void 0, function() {
            var e, i, r, n, o, a, l, h, c;
            return _(this, function(v) {
                switch (v.label) {
                    case 0:
                        if (e = t && Object.prototype.hasOwnProperty.call(t, "storageProvider"), i = t && t.loggerProvider, !(!e || t.storageProvider)) return [3, 9];
                        v.label = 1;
                    case 1:
                        v.trys.push([1, 7, 8, 9]), r = ce([t == null ? void 0 : t.storageProvider, new Ut({
                            loggerProvider: i
                        })]), n = r.next(), v.label = 2;
                    case 2:
                        return n.done ? [3, 6] : (o = n.value, a = o, a ? [4, o.isEnabled()] : [3, 4]);
                    case 3:
                        a = v.sent(), v.label = 4;
                    case 4:
                        if (a) return [2, o];
                        v.label = 5;
                    case 5:
                        return n = r.next(), [3, 2];
                    case 6:
                        return [3, 9];
                    case 7:
                        return l = v.sent(), h = {
                            error: l
                        }, [3, 9];
                    case 8:
                        try {
                            n && !n.done && (c = r.return) && c.call(r)
                        } finally {
                            if (h) throw h.error
                        }
                        return [7];
                    case 9:
                        return [2, void 0]
                }
            })
        })
    },
    Nt = function(t) {
        return t === Te.XHR ? new Xi : t === Te.SendBeacon ? new Zi : Oe().transportProvider
    },
    tr = function(t) {
        return w(void 0, void 0, void 0, function() {
            var e, i, r, n, o, o, a, l, h, c;
            return _(this, function(v) {
                switch (v.label) {
                    case 0:
                        return [4, new $e().isEnabled()];
                    case 1:
                        if (!v.sent() || !t && typeof location > "u") return [2, ""];
                        for (e = t ? ? location.hostname, i = e.split("."), r = [], n = "AMP_TLDTEST", o = i.length - 2; o >= 0; --o) r.push(i.slice(o).join("."));
                        o = 0, v.label = 2;
                    case 2:
                        return o < r.length ? (a = r[o], l = {
                            domain: "." + a
                        }, h = new $e(l), [4, h.set(n, 1)]) : [3, 7];
                    case 3:
                        return v.sent(), [4, h.get(n)];
                    case 4:
                        return c = v.sent(), c ? [4, h.remove(n)] : [3, 6];
                    case 5:
                        return v.sent(), [2, "." + a];
                    case 6:
                        return o++, [3, 2];
                    case 7:
                        return [2, ""]
                }
            })
        })
    },
    K = "[Amplitude]",
    Lt = "".concat(K, " Page Viewed"),
    It = "".concat(K, " Form Started"),
    ir = "".concat(K, " Form Submitted"),
    rr = "".concat(K, " File Downloaded"),
    St = "session_start",
    Tt = "session_end",
    nr = "".concat(K, " File Extension"),
    or = "".concat(K, " File Name"),
    ar = "".concat(K, " Link ID"),
    sr = "".concat(K, " Link Text"),
    ur = "".concat(K, " Link URL"),
    ze = "".concat(K, " Form ID"),
    Ge = "".concat(K, " Form Name"),
    Ke = "".concat(K, " Form Destination"),
    cr = function(t, e) {
        return w(void 0, void 0, void 0, function() {
            var i, r, n, o, a, l, h, c, v, g, u;
            return _(this, function(p) {
                switch (p.label) {
                    case 0:
                        return [4, Dt(e)];
                    case 1:
                        return i = p.sent(), r = Ci(t), [4, i.getRaw(r)];
                    case 2:
                        return n = p.sent(), n ? ((u = e.cookieUpgrade) !== null && u !== void 0 ? u : Oe().cookieUpgrade) ? [4, i.remove(r)] : [3, 4] : [2, {
                            optOut: !1
                        }];
                    case 3:
                        p.sent(), p.label = 4;
                    case 4:
                        return o = B(n.split("."), 6), a = o[0], l = o[1], h = o[2], c = o[3], v = o[4], g = o[5], [2, {
                            deviceId: a,
                            userId: dr(l),
                            sessionId: He(c),
                            lastEventId: He(g),
                            lastEventTime: He(v),
                            optOut: !!h
                        }]
                }
            })
        })
    },
    He = function(t) {
        var e = parseInt(t, 32);
        if (!isNaN(e)) return e
    },
    dr = function(t) {
        if (!(!atob || !escape || !t)) try {
            return decodeURIComponent(escape(atob(t)))
        } catch {
            return
        }
    },
    Je = {
        exports: {}
    };
(function(t, e) {
    (function(i, r) {
        var n = "0.7.33",
            o = "",
            a = "?",
            l = "function",
            h = "undefined",
            c = "object",
            v = "string",
            g = "major",
            u = "model",
            p = "name",
            s = "type",
            f = "vendor",
            d = "version",
            y = "architecture",
            I = "console",
            m = "mobile",
            b = "tablet",
            P = "smarttv",
            k = "wearable",
            U = "embedded",
            D = 350,
            L = "Amazon",
            G = "Apple",
            $ = "ASUS",
            R = "BlackBerry",
            Q = "Browser",
            te = "Chrome",
            Pe = "Edge",
            oe = "Firefox",
            ae = "Google",
            ye = "Huawei",
            le = "LG",
            fe = "Microsoft",
            ve = "Motorola",
            ie = "Opera",
            se = "Samsung",
            ue = "Sharp",
            he = "Sony",
            A = "Xiaomi",
            pe = "Zebra",
            it = "Facebook",
            Mt = function(S, x) {
                var T = {};
                for (var N in S) x[N] && x[N].length % 2 === 0 ? T[N] = x[N].concat(S[N]) : T[N] = S[N];
                return T
            },
            Re = function(S) {
                for (var x = {}, T = 0; T < S.length; T++) x[S[T].toUpperCase()] = S[T];
                return x
            },
            rt = function(S, x) {
                return typeof S === v ? be(x).indexOf(be(S)) !== -1 : !1
            },
            be = function(S) {
                return S.toLowerCase()
            },
            qt = function(S) {
                return typeof S === v ? S.replace(/[^\d\.]/g, o).split(".")[0] : r
            },
            Be = function(S, x) {
                if (typeof S === v) return S = S.replace(/^\s\s*/, o), typeof x === h ? S : S.substring(0, D)
            },
            we = function(S, x) {
                for (var T = 0, N, O, Ae, C, _e, J; T < x.length && !_e;) {
                    var at = x[T],
                        st = x[T + 1];
                    for (N = O = 0; N < at.length && !_e;)
                        if (_e = at[N++].exec(S), _e)
                            for (Ae = 0; Ae < st.length; Ae++) J = _e[++O], C = st[Ae], typeof C === c && C.length > 0 ? C.length === 2 ? typeof C[1] == l ? this[C[0]] = C[1].call(this, J) : this[C[0]] = C[1] : C.length === 3 ? typeof C[1] === l && !(C[1].exec && C[1].test) ? this[C[0]] = J ? C[1].call(this, J, C[2]) : r : this[C[0]] = J ? J.replace(C[1], C[2]) : r : C.length === 4 && (this[C[0]] = J ? C[3].call(this, J.replace(C[1], C[2])) : r) : this[C] = J || r;
                    T += 2
                }
            },
            je = function(S, x) {
                for (var T in x)
                    if (typeof x[T] === c && x[T].length > 0) {
                        for (var N = 0; N < x[T].length; N++)
                            if (rt(x[T][N], S)) return T === a ? r : T
                    } else if (rt(x[T], S)) return T === a ? r : T;
                return S
            },
            Vt = {
                "1.0": "/8",
                1.2: "/1",
                1.3: "/3",
                "2.0": "/412",
                "2.0.2": "/416",
                "2.0.3": "/417",
                "2.0.4": "/419",
                "?": "/"
            },
            nt = {
                ME: "4.90",
                "NT 3.11": "NT3.51",
                "NT 4.0": "NT4.0",
                2e3: "NT 5.0",
                XP: ["NT 5.1", "NT 5.2"],
                Vista: "NT 6.0",
                7: "NT 6.1",
                8: "NT 6.2",
                8.1: "NT 6.3",
                10: ["NT 6.4", "NT 10.0"],
                RT: "ARM"
            },
            ot = {
                browser: [
                    [/\b(?:crmo|crios)\/([\w\.]+)/i],
                    [d, [p, "Chrome"]],
                    [/edg(?:e|ios|a)?\/([\w\.]+)/i],
                    [d, [p, "Edge"]],
                    [/(opera mini)\/([-\w\.]+)/i, /(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i, /(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],
                    [p, d],
                    [/opios[\/ ]+([\w\.]+)/i],
                    [d, [p, ie + " Mini"]],
                    [/\bopr\/([\w\.]+)/i],
                    [d, [p, ie]],
                    [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i, /(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i, /(ba?idubrowser)[\/ ]?([\w\.]+)/i, /(?:ms|\()(ie) ([\w\.]+)/i, /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i, /(weibo)__([\d\.]+)/i],
                    [p, d],
                    [/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],
                    [d, [p, "UC" + Q]],
                    [/microm.+\bqbcore\/([\w\.]+)/i, /\bqbcore\/([\w\.]+).+microm/i],
                    [d, [p, "WeChat(Win) Desktop"]],
                    [/micromessenger\/([\w\.]+)/i],
                    [d, [p, "WeChat"]],
                    [/konqueror\/([\w\.]+)/i],
                    [d, [p, "Konqueror"]],
                    [/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],
                    [d, [p, "IE"]],
                    [/yabrowser\/([\w\.]+)/i],
                    [d, [p, "Yandex"]],
                    [/(avast|avg)\/([\w\.]+)/i],
                    [
                        [p, /(.+)/, "$1 Secure " + Q], d
                    ],
                    [/\bfocus\/([\w\.]+)/i],
                    [d, [p, oe + " Focus"]],
                    [/\bopt\/([\w\.]+)/i],
                    [d, [p, ie + " Touch"]],
                    [/coc_coc\w+\/([\w\.]+)/i],
                    [d, [p, "Coc Coc"]],
                    [/dolfin\/([\w\.]+)/i],
                    [d, [p, "Dolphin"]],
                    [/coast\/([\w\.]+)/i],
                    [d, [p, ie + " Coast"]],
                    [/miuibrowser\/([\w\.]+)/i],
                    [d, [p, "MIUI " + Q]],
                    [/fxios\/([-\w\.]+)/i],
                    [d, [p, oe]],
                    [/\bqihu|(qi?ho?o?|360)browser/i],
                    [
                        [p, "360 " + Q]
                    ],
                    [/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],
                    [
                        [p, /(.+)/, "$1 " + Q], d
                    ],
                    [/(comodo_dragon)\/([\w\.]+)/i],
                    [
                        [p, /_/g, " "], d
                    ],
                    [/(electron)\/([\w\.]+) safari/i, /(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i, /m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],
                    [p, d],
                    [/(metasr)[\/ ]?([\w\.]+)/i, /(lbbrowser)/i, /\[(linkedin)app\]/i],
                    [p],
                    [/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],
                    [
                        [p, it], d
                    ],
                    [/safari (line)\/([\w\.]+)/i, /\b(line)\/([\w\.]+)\/iab/i, /(chromium|instagram)[\/ ]([-\w\.]+)/i],
                    [p, d],
                    [/\bgsa\/([\w\.]+) .*safari\//i],
                    [d, [p, "GSA"]],
                    [/headlesschrome(?:\/([\w\.]+)| )/i],
                    [d, [p, te + " Headless"]],
                    [/ wv\).+(chrome)\/([\w\.]+)/i],
                    [
                        [p, te + " WebView"], d
                    ],
                    [/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],
                    [d, [p, "Android " + Q]],
                    [/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],
                    [p, d],
                    [/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],
                    [d, [p, "Mobile Safari"]],
                    [/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],
                    [d, p],
                    [/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],
                    [p, [d, je, Vt]],
                    [/(webkit|khtml)\/([\w\.]+)/i],
                    [p, d],
                    [/(navigator|netscape\d?)\/([-\w\.]+)/i],
                    [
                        [p, "Netscape"], d
                    ],
                    [/mobile vr; rv:([\w\.]+)\).+firefox/i],
                    [d, [p, oe + " Reality"]],
                    [/ekiohf.+(flow)\/([\w\.]+)/i, /(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i, /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i, /(firefox)\/([\w\.]+)/i, /(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i, /(links) \(([\w\.]+)/i],
                    [p, d],
                    [/(cobalt)\/([\w\.]+)/i],
                    [p, [d, /master.|lts./, ""]]
                ],
                cpu: [
                    [/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],
                    [
                        [y, "amd64"]
                    ],
                    [/(ia32(?=;))/i],
                    [
                        [y, be]
                    ],
                    [/((?:i[346]|x)86)[;\)]/i],
                    [
                        [y, "ia32"]
                    ],
                    [/\b(aarch64|arm(v?8e?l?|_?64))\b/i],
                    [
                        [y, "arm64"]
                    ],
                    [/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],
                    [
                        [y, "armhf"]
                    ],
                    [/windows (ce|mobile); ppc;/i],
                    [
                        [y, "arm"]
                    ],
                    [/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],
                    [
                        [y, /ower/, o, be]
                    ],
                    [/(sun4\w)[;\)]/i],
                    [
                        [y, "sparc"]
                    ],
                    [/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],
                    [
                        [y, be]
                    ]
                ],
                device: [
                    [/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],
                    [u, [f, se],
                        [s, b]
                    ],
                    [/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i, /samsung[- ]([-\w]+)/i, /sec-(sgh\w+)/i],
                    [u, [f, se],
                        [s, m]
                    ],
                    [/((ipod|iphone)\d+,\d+)/i],
                    [u, [f, G],
                        [s, m]
                    ],
                    [/(ipad\d+,\d+)/i],
                    [u, [f, G],
                        [s, b]
                    ],
                    [/\((ip(?:hone|od)[\w ]*);/i],
                    [u, [f, G],
                        [s, m]
                    ],
                    [/\((ipad);[-\w\),; ]+apple/i, /applecoremedia\/[\w\.]+ \((ipad)/i, /\b(ipad)\d\d?,\d\d?[;\]].+ios/i],
                    [u, [f, G],
                        [s, b]
                    ],
                    [/(macintosh);/i],
                    [u, [f, G]],
                    [/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],
                    [u, [f, ye],
                        [s, b]
                    ],
                    [/(?:huawei|honor)([-\w ]+)[;\)]/i, /\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],
                    [u, [f, ye],
                        [s, m]
                    ],
                    [/\b(poco[\w ]+)(?: bui|\))/i, /\b; (\w+) build\/hm\1/i, /\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i, /\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i, /\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],
                    [
                        [u, /_/g, " "],
                        [f, A],
                        [s, m]
                    ],
                    [/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],
                    [
                        [u, /_/g, " "],
                        [f, A],
                        [s, b]
                    ],
                    [/; (\w+) bui.+ oppo/i, /\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],
                    [u, [f, "OPPO"],
                        [s, m]
                    ],
                    [/vivo (\w+)(?: bui|\))/i, /\b(v[12]\d{3}\w?[at])(?: bui|;)/i],
                    [u, [f, "Vivo"],
                        [s, m]
                    ],
                    [/\b(rmx[12]\d{3})(?: bui|;|\))/i],
                    [u, [f, "Realme"],
                        [s, m]
                    ],
                    [/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i, /\bmot(?:orola)?[- ](\w*)/i, /((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],
                    [u, [f, ve],
                        [s, m]
                    ],
                    [/\b(mz60\d|xoom[2 ]{0,2}) build\//i],
                    [u, [f, ve],
                        [s, b]
                    ],
                    [/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],
                    [u, [f, le],
                        [s, b]
                    ],
                    [/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i, /\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i, /\blg-?([\d\w]+) bui/i],
                    [u, [f, le],
                        [s, m]
                    ],
                    [/(ideatab[-\w ]+)/i, /lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],
                    [u, [f, "Lenovo"],
                        [s, b]
                    ],
                    [/(?:maemo|nokia).*(n900|lumia \d+)/i, /nokia[-_ ]?([-\w\.]*)/i],
                    [
                        [u, /_/g, " "],
                        [f, "Nokia"],
                        [s, m]
                    ],
                    [/(pixel c)\b/i],
                    [u, [f, ae],
                        [s, b]
                    ],
                    [/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],
                    [u, [f, ae],
                        [s, m]
                    ],
                    [/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],
                    [u, [f, he],
                        [s, m]
                    ],
                    [/sony tablet [ps]/i, /\b(?:sony)?sgp\w+(?: bui|\))/i],
                    [
                        [u, "Xperia Tablet"],
                        [f, he],
                        [s, b]
                    ],
                    [/ (kb2005|in20[12]5|be20[12][59])\b/i, /(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],
                    [u, [f, "OnePlus"],
                        [s, m]
                    ],
                    [/(alexa)webm/i, /(kf[a-z]{2}wi)( bui|\))/i, /(kf[a-z]+)( bui|\)).+silk\//i],
                    [u, [f, L],
                        [s, b]
                    ],
                    [/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],
                    [
                        [u, /(.+)/g, "Fire Phone $1"],
                        [f, L],
                        [s, m]
                    ],
                    [/(playbook);[-\w\),; ]+(rim)/i],
                    [u, f, [s, b]],
                    [/\b((?:bb[a-f]|st[hv])100-\d)/i, /\(bb10; (\w+)/i],
                    [u, [f, R],
                        [s, m]
                    ],
                    [/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],
                    [u, [f, $],
                        [s, b]
                    ],
                    [/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],
                    [u, [f, $],
                        [s, m]
                    ],
                    [/(nexus 9)/i],
                    [u, [f, "HTC"],
                        [s, b]
                    ],
                    [/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i, /(zte)[- ]([\w ]+?)(?: bui|\/|\))/i, /(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],
                    [f, [u, /_/g, " "],
                        [s, m]
                    ],
                    [/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],
                    [u, [f, "Acer"],
                        [s, b]
                    ],
                    [/droid.+; (m[1-5] note) bui/i, /\bmz-([-\w]{2,})/i],
                    [u, [f, "Meizu"],
                        [s, m]
                    ],
                    [/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],
                    [u, [f, ue],
                        [s, m]
                    ],
                    [/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i, /(hp) ([\w ]+\w)/i, /(asus)-?(\w+)/i, /(microsoft); (lumia[\w ]+)/i, /(lenovo)[-_ ]?([-\w]+)/i, /(jolla)/i, /(oppo) ?([\w ]+) bui/i],
                    [f, u, [s, m]],
                    [/(archos) (gamepad2?)/i, /(hp).+(touchpad(?!.+tablet)|tablet)/i, /(kindle)\/([\w\.]+)/i, /(nook)[\w ]+build\/(\w+)/i, /(dell) (strea[kpr\d ]*[\dko])/i, /(le[- ]+pan)[- ]+(\w{1,9}) bui/i, /(trinity)[- ]*(t\d{3}) bui/i, /(gigaset)[- ]+(q\w{1,9}) bui/i, /(vodafone) ([\w ]+)(?:\)| bui)/i],
                    [f, u, [s, b]],
                    [/(surface duo)/i],
                    [u, [f, fe],
                        [s, b]
                    ],
                    [/droid [\d\.]+; (fp\du?)(?: b|\))/i],
                    [u, [f, "Fairphone"],
                        [s, m]
                    ],
                    [/(u304aa)/i],
                    [u, [f, "AT&T"],
                        [s, m]
                    ],
                    [/\bsie-(\w*)/i],
                    [u, [f, "Siemens"],
                        [s, m]
                    ],
                    [/\b(rct\w+) b/i],
                    [u, [f, "RCA"],
                        [s, b]
                    ],
                    [/\b(venue[\d ]{2,7}) b/i],
                    [u, [f, "Dell"],
                        [s, b]
                    ],
                    [/\b(q(?:mv|ta)\w+) b/i],
                    [u, [f, "Verizon"],
                        [s, b]
                    ],
                    [/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],
                    [u, [f, "Barnes & Noble"],
                        [s, b]
                    ],
                    [/\b(tm\d{3}\w+) b/i],
                    [u, [f, "NuVision"],
                        [s, b]
                    ],
                    [/\b(k88) b/i],
                    [u, [f, "ZTE"],
                        [s, b]
                    ],
                    [/\b(nx\d{3}j) b/i],
                    [u, [f, "ZTE"],
                        [s, m]
                    ],
                    [/\b(gen\d{3}) b.+49h/i],
                    [u, [f, "Swiss"],
                        [s, m]
                    ],
                    [/\b(zur\d{3}) b/i],
                    [u, [f, "Swiss"],
                        [s, b]
                    ],
                    [/\b((zeki)?tb.*\b) b/i],
                    [u, [f, "Zeki"],
                        [s, b]
                    ],
                    [/\b([yr]\d{2}) b/i, /\b(dragon[- ]+touch |dt)(\w{5}) b/i],
                    [
                        [f, "Dragon Touch"], u, [s, b]
                    ],
                    [/\b(ns-?\w{0,9}) b/i],
                    [u, [f, "Insignia"],
                        [s, b]
                    ],
                    [/\b((nxa|next)-?\w{0,9}) b/i],
                    [u, [f, "NextBook"],
                        [s, b]
                    ],
                    [/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],
                    [
                        [f, "Voice"], u, [s, m]
                    ],
                    [/\b(lvtel\-)?(v1[12]) b/i],
                    [
                        [f, "LvTel"], u, [s, m]
                    ],
                    [/\b(ph-1) /i],
                    [u, [f, "Essential"],
                        [s, m]
                    ],
                    [/\b(v(100md|700na|7011|917g).*\b) b/i],
                    [u, [f, "Envizen"],
                        [s, b]
                    ],
                    [/\b(trio[-\w\. ]+) b/i],
                    [u, [f, "MachSpeed"],
                        [s, b]
                    ],
                    [/\btu_(1491) b/i],
                    [u, [f, "Rotor"],
                        [s, b]
                    ],
                    [/(shield[\w ]+) b/i],
                    [u, [f, "Nvidia"],
                        [s, b]
                    ],
                    [/(sprint) (\w+)/i],
                    [f, u, [s, m]],
                    [/(kin\.[onetw]{3})/i],
                    [
                        [u, /\./g, " "],
                        [f, fe],
                        [s, m]
                    ],
                    [/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],
                    [u, [f, pe],
                        [s, b]
                    ],
                    [/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],
                    [u, [f, pe],
                        [s, m]
                    ],
                    [/(ouya)/i, /(nintendo) ([wids3utch]+)/i],
                    [f, u, [s, I]],
                    [/droid.+; (shield) bui/i],
                    [u, [f, "Nvidia"],
                        [s, I]
                    ],
                    [/(playstation [345portablevi]+)/i],
                    [u, [f, he],
                        [s, I]
                    ],
                    [/\b(xbox(?: one)?(?!; xbox))[\); ]/i],
                    [u, [f, fe],
                        [s, I]
                    ],
                    [/smart-tv.+(samsung)/i],
                    [f, [s, P]],
                    [/hbbtv.+maple;(\d+)/i],
                    [
                        [u, /^/, "SmartTV"],
                        [f, se],
                        [s, P]
                    ],
                    [/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],
                    [
                        [f, le],
                        [s, P]
                    ],
                    [/(apple) ?tv/i],
                    [f, [u, G + " TV"],
                        [s, P]
                    ],
                    [/crkey/i],
                    [
                        [u, te + "cast"],
                        [f, ae],
                        [s, P]
                    ],
                    [/droid.+aft(\w)( bui|\))/i],
                    [u, [f, L],
                        [s, P]
                    ],
                    [/\(dtv[\);].+(aquos)/i, /(aquos-tv[\w ]+)\)/i],
                    [u, [f, ue],
                        [s, P]
                    ],
                    [/(bravia[\w ]+)( bui|\))/i],
                    [u, [f, he],
                        [s, P]
                    ],
                    [/(mitv-\w{5}) bui/i],
                    [u, [f, A],
                        [s, P]
                    ],
                    [/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i, /hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],
                    [
                        [f, Be],
                        [u, Be],
                        [s, P]
                    ],
                    [/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],
                    [
                        [s, P]
                    ],
                    [/((pebble))app/i],
                    [f, u, [s, k]],
                    [/droid.+; (glass) \d/i],
                    [u, [f, ae],
                        [s, k]
                    ],
                    [/droid.+; (wt63?0{2,3})\)/i],
                    [u, [f, pe],
                        [s, k]
                    ],
                    [/(quest( 2)?)/i],
                    [u, [f, it],
                        [s, k]
                    ],
                    [/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],
                    [f, [s, U]],
                    [/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],
                    [u, [s, m]],
                    [/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],
                    [u, [s, b]],
                    [/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],
                    [
                        [s, b]
                    ],
                    [/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],
                    [
                        [s, m]
                    ],
                    [/(android[-\w\. ]{0,9});.+buil/i],
                    [u, [f, "Generic"]]
                ],
                engine: [
                    [/windows.+ edge\/([\w\.]+)/i],
                    [d, [p, Pe + "HTML"]],
                    [/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],
                    [d, [p, "Blink"]],
                    [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i, /ekioh(flow)\/([\w\.]+)/i, /(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i, /(icab)[\/ ]([23]\.[\d\.]+)/i],
                    [p, d],
                    [/rv\:([\w\.]{1,9})\b.+(gecko)/i],
                    [d, p]
                ],
                os: [
                    [/microsoft (windows) (vista|xp)/i],
                    [p, d],
                    [/(windows) nt 6\.2; (arm)/i, /(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i, /(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],
                    [p, [d, je, nt]],
                    [/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],
                    [
                        [p, "Windows"],
                        [d, je, nt]
                    ],
                    [/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i, /cfnetwork\/.+darwin/i],
                    [
                        [d, /_/g, "."],
                        [p, "iOS"]
                    ],
                    [/(mac os x) ?([\w\. ]*)/i, /(macintosh|mac_powerpc\b)(?!.+haiku)/i],
                    [
                        [p, "Mac OS"],
                        [d, /_/g, "."]
                    ],
                    [/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],
                    [d, p],
                    [/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i, /(blackberry)\w*\/([\w\.]*)/i, /(tizen|kaios)[\/ ]([\w\.]+)/i, /\((series40);/i],
                    [p, d],
                    [/\(bb(10);/i],
                    [d, [p, R]],
                    [/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],
                    [d, [p, "Symbian"]],
                    [/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],
                    [d, [p, oe + " OS"]],
                    [/web0s;.+rt(tv)/i, /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],
                    [d, [p, "webOS"]],
                    [/crkey\/([\d\.]+)/i],
                    [d, [p, te + "cast"]],
                    [/(cros) [\w]+ ([\w\.]+\w)/i],
                    [
                        [p, "Chromium OS"], d
                    ],
                    [/(nintendo|playstation) ([wids345portablevuch]+)/i, /(xbox); +xbox ([^\);]+)/i, /\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i, /(mint)[\/\(\) ]?(\w*)/i, /(mageia|vectorlinux)[; ]/i, /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i, /(hurd|linux) ?([\w\.]*)/i, /(gnu) ?([\w\.]*)/i, /\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i, /(haiku) (\w+)/i],
                    [p, d],
                    [/(sunos) ?([\w\.\d]*)/i],
                    [
                        [p, "Solaris"], d
                    ],
                    [/((?:open)?solaris)[-\/ ]?([\w\.]*)/i, /(aix) ((\d)(?=\.|\)| )[\w\.])*/i, /\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i, /(unix) ?([\w\.]*)/i],
                    [p, d]
                ]
            },
            Y = function(S, x) {
                if (typeof S === c && (x = S, S = r), !(this instanceof Y)) return new Y(S, x).getResult();
                var T = S || (typeof i !== h && i.navigator && i.navigator.userAgent ? i.navigator.userAgent : o),
                    N = x ? Mt(ot, x) : ot;
                return this.getBrowser = function() {
                    var O = {};
                    return O[p] = r, O[d] = r, we.call(O, T, N.browser), O.major = qt(O.version), O
                }, this.getCPU = function() {
                    var O = {};
                    return O[y] = r, we.call(O, T, N.cpu), O
                }, this.getDevice = function() {
                    var O = {};
                    return O[f] = r, O[u] = r, O[s] = r, we.call(O, T, N.device), O
                }, this.getEngine = function() {
                    var O = {};
                    return O[p] = r, O[d] = r, we.call(O, T, N.engine), O
                }, this.getOS = function() {
                    var O = {};
                    return O[p] = r, O[d] = r, we.call(O, T, N.os), O
                }, this.getResult = function() {
                    return {
                        ua: this.getUA(),
                        browser: this.getBrowser(),
                        engine: this.getEngine(),
                        os: this.getOS(),
                        device: this.getDevice(),
                        cpu: this.getCPU()
                    }
                }, this.getUA = function() {
                    return T
                }, this.setUA = function(O) {
                    return T = typeof O === v && O.length > D ? Be(O, D) : O, this
                }, this.setUA(T), this
            };
        Y.VERSION = n, Y.BROWSER = Re([p, d, g]), Y.CPU = Re([y]), Y.DEVICE = Re([u, f, s, I, m, P, b, k, U]), Y.ENGINE = Y.OS = Re([p, d]), t.exports && (e = t.exports = Y), e.UAParser = Y;
        var ge = typeof i !== h && (i.jQuery || i.Zepto);
        if (ge && !ge.ua) {
            var xe = new Y;
            ge.ua = xe.getResult(), ge.ua.get = function() {
                return xe.getUA()
            }, ge.ua.set = function(S) {
                xe.setUA(S);
                var x = xe.getResult();
                for (var T in x) ge.ua[T] = x[T]
            }
        }
    })(typeof window == "object" ? window : Ft)
})(Je, Je.exports);
var lr = Je.exports;
const fr = Bt(lr);
var vr = "1.13.4",
    hr = "Web",
    pr = "$remote",
    gr = function() {
        function t() {
            this.name = "context", this.type = H.BEFORE, this.library = "amplitude-ts/".concat(vr), typeof navigator < "u" && (this.userAgent = navigator.userAgent), this.uaResult = new fr(this.userAgent).getResult()
        }
        return t.prototype.setup = function(e) {
            return this.config = e, Promise.resolve(void 0)
        }, t.prototype.execute = function(e) {
            var i, r;
            return w(this, void 0, void 0, function() {
                var n, o, a, l, h, c, v, g;
                return _(this, function(u) {
                    return n = new Date().getTime(), o = this.uaResult.browser.name, a = this.uaResult.browser.version, l = this.uaResult.device.model || this.uaResult.os.name, h = this.uaResult.device.vendor, c = (i = this.config.lastEventId) !== null && i !== void 0 ? i : -1, v = (r = e.event_id) !== null && r !== void 0 ? r : c + 1, this.config.lastEventId = v, e.time || (this.config.lastEventTime = n), g = E(E(E(E(E(E(E(E(E(E(E(E({
                        user_id: this.config.userId,
                        device_id: this.config.deviceId,
                        session_id: this.config.sessionId,
                        time: n
                    }, this.config.appVersion && {
                        app_version: this.config.appVersion
                    }), this.config.trackingOptions.platform && {
                        platform: hr
                    }), this.config.trackingOptions.osName && {
                        os_name: o
                    }), this.config.trackingOptions.osVersion && {
                        os_version: a
                    }), this.config.trackingOptions.deviceManufacturer && {
                        device_manufacturer: h
                    }), this.config.trackingOptions.deviceModel && {
                        device_model: l
                    }), this.config.trackingOptions.language && {
                        language: qi()
                    }), this.config.trackingOptions.ipAddress && {
                        ip: pr
                    }), {
                        insert_id: Fe(),
                        partner_id: this.config.partnerId,
                        plan: this.config.plan
                    }), this.config.ingestionMetadata && {
                        ingestion_metadata: {
                            source_name: this.config.ingestionMetadata.sourceName,
                            source_version: this.config.ingestionMetadata.sourceVersion
                        }
                    }), e), {
                        event_id: v,
                        library: this.library,
                        user_agent: this.userAgent
                    }), [2, g]
                })
            })
        }, t
    }(),
    mr = {
        page_domain: "".concat(K, " Page Domain"),
        page_location: "".concat(K, " Page Location"),
        page_path: "".concat(K, " Page Path"),
        page_title: "".concat(K, " Page Title"),
        page_url: "".concat(K, " Page URL")
    },
    yr = function() {
        var t = "@amplitude/plugin-default-page-view-event-enrichment-browser",
            e = H.ENRICHMENT,
            i = function() {
                return w(void 0, void 0, void 0, function() {
                    return _(this, function(n) {
                        return [2, void 0]
                    })
                })
            },
            r = function(n) {
                return w(void 0, void 0, void 0, function() {
                    return _(this, function(o) {
                        return n.event_type === Lt && n.event_properties && (n.event_properties = Object.entries(n.event_properties).reduce(function(a, l) {
                            var h = B(l, 2),
                                c = h[0],
                                v = h[1],
                                g = mr[c];
                            return g ? a[g] = v : a[c] = v, a
                        }, {})), [2, n]
                    })
                })
            };
        return {
            name: t,
            type: e,
            setup: i,
            execute: r
        }
    },
    br = function() {
        var t, e = [],
            i = function(c, v, g) {
                c.addEventListener(v, g), e.push({
                    element: c,
                    type: v,
                    handler: g
                })
            },
            r = function() {
                e.forEach(function(c) {
                    var v = c.element,
                        g = c.type,
                        u = c.handler;
                    v == null || v.removeEventListener(g, u)
                }), e = []
            },
            n = "@amplitude/plugin-file-download-tracking-browser",
            o = H.ENRICHMENT,
            a = function(c, v) {
                return w(void 0, void 0, void 0, function() {
                    var g, u, p;
                    return _(this, function(s) {
                        return v ? typeof document > "u" ? [2] : (g = function(f) {
                            var d;
                            try {
                                d = new URL(f.href, window.location.href)
                            } catch {
                                return
                            }
                            var y = u.exec(d.href),
                                I = y == null ? void 0 : y[1];
                            I && i(f, "click", function() {
                                var m;
                                I && v.track(rr, (m = {}, m[nr] = I, m[or] = d.pathname, m[ar] = f.id, m[sr] = f.text, m[ur] = f.href, m))
                            })
                        }, u = /\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/, p = Array.from(document.getElementsByTagName("a")), p.forEach(g), typeof MutationObserver < "u" && (t = new MutationObserver(function(f) {
                            f.forEach(function(d) {
                                d.addedNodes.forEach(function(y) {
                                    y.nodeName === "A" && g(y), "querySelectorAll" in y && typeof y.querySelectorAll == "function" && Array.from(y.querySelectorAll("a")).map(g)
                                })
                            })
                        }), t.observe(document.body, {
                            subtree: !0,
                            childList: !0
                        })), [2]) : (c.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."), [2])
                    })
                })
            },
            l = function(c) {
                return w(void 0, void 0, void 0, function() {
                    return _(this, function(v) {
                        return [2, c]
                    })
                })
            },
            h = function() {
                return w(void 0, void 0, void 0, function() {
                    return _(this, function(c) {
                        return t == null || t.disconnect(), r(), [2]
                    })
                })
            };
        return {
            name: n,
            type: o,
            setup: a,
            execute: l,
            teardown: h
        }
    },
    wr = function() {
        var t, e = [],
            i = function(c, v, g) {
                c.addEventListener(v, g), e.push({
                    element: c,
                    type: v,
                    handler: g
                })
            },
            r = function() {
                e.forEach(function(c) {
                    var v = c.element,
                        g = c.type,
                        u = c.handler;
                    v == null || v.removeEventListener(g, u)
                }), e = []
            },
            n = "@amplitude/plugin-form-interaction-tracking-browser",
            o = H.ENRICHMENT,
            a = function(c, v) {
                return w(void 0, void 0, void 0, function() {
                    var g, u;
                    return _(this, function(p) {
                        return v ? typeof document > "u" ? [2] : (g = function(s) {
                            var f = !1;
                            i(s, "change", function() {
                                var d;
                                f || v.track(It, (d = {}, d[ze] = s.id, d[Ge] = s.name, d[Ke] = s.action, d)), f = !0
                            }), i(s, "submit", function() {
                                var d, y;
                                f || v.track(It, (d = {}, d[ze] = s.id, d[Ge] = s.name, d[Ke] = s.action, d)), v.track(ir, (y = {}, y[ze] = s.id, y[Ge] = s.name, y[Ke] = s.action, y)), f = !1
                            })
                        }, u = Array.from(document.getElementsByTagName("form")), u.forEach(g), typeof MutationObserver < "u" && (t = new MutationObserver(function(s) {
                            s.forEach(function(f) {
                                f.addedNodes.forEach(function(d) {
                                    d.nodeName === "FORM" && g(d), "querySelectorAll" in d && typeof d.querySelectorAll == "function" && Array.from(d.querySelectorAll("form")).map(g)
                                })
                            })
                        }), t.observe(document.body, {
                            subtree: !0,
                            childList: !0
                        })), [2]) : (c.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked."), [2])
                    })
                })
            },
            l = function(c) {
                return w(void 0, void 0, void 0, function() {
                    return _(this, function(v) {
                        return [2, c]
                    })
                })
            },
            h = function() {
                return w(void 0, void 0, void 0, function() {
                    return _(this, function(c) {
                        return t == null || t.disconnect(), r(), [2]
                    })
                })
            };
        return {
            name: n,
            type: o,
            setup: a,
            execute: l,
            teardown: h
        }
    },
    Tr = function(t, e) {
        Me(t, e)
    },
    Me = function(t, e) {
        for (var i = 0; i < e.length; i++) {
            var r = e[i],
                n = r.name,
                o = r.args,
                a = r.resolve,
                l = t && t[n];
            if (typeof l == "function") {
                var h = l.apply(t, o);
                typeof a == "function" && a(h == null ? void 0 : h.promise)
            }
        }
        return t
    },
    We = function(t) {
        var e = t;
        return e && e._q !== void 0
    },
    _r = function(t) {
        ke(e, t);

        function e() {
            return t !== null && t.apply(this, arguments) || this
        }
        return e.prototype.init = function(i, r, n) {
            return i === void 0 && (i = ""), X(this._init(E(E({}, n), {
                userId: r,
                apiKey: i
            })))
        }, e.prototype._init = function(i) {
            var r, n, o, a, l, h, c, v, g, u, p, s, f, d, y, I, m, b, P, k;
            return w(this, void 0, void 0, function() {
                var U, D, L, G, $, R, Q, te, Pe, oe, ae, ye, le, fe, ve, ie, se, ue, he = this;
                return _(this, function(A) {
                    switch (A.label) {
                        case 0:
                            return this.initializing ? [2] : (this.initializing = !0, U = i, i.disableCookies ? (D = "", [3, 5]) : [3, 1]);
                        case 1:
                            return (r = i.domain) !== null && r !== void 0 ? (L = r, [3, 4]) : [3, 2];
                        case 2:
                            return [4, tr()];
                        case 3:
                            L = A.sent(), A.label = 4;
                        case 4:
                            D = L, A.label = 5;
                        case 5:
                            return U.domain = D, [4, cr(i.apiKey, i)];
                        case 6:
                            return G = A.sent(), [4, Dt(i)];
                        case 7:
                            return $ = A.sent(), [4, $.get(Ct(i.apiKey))];
                        case 8:
                            return R = A.sent(), Q = Ze(), te = (a = (o = (n = i.deviceId) !== null && n !== void 0 ? n : Q.deviceId) !== null && o !== void 0 ? o : R == null ? void 0 : R.deviceId) !== null && a !== void 0 ? a : G.deviceId, Pe = (l = R == null ? void 0 : R.sessionId) !== null && l !== void 0 ? l : G.sessionId, oe = (c = (h = i.optOut) !== null && h !== void 0 ? h : R == null ? void 0 : R.optOut) !== null && c !== void 0 ? c : G.optOut, ae = (v = R == null ? void 0 : R.lastEventId) !== null && v !== void 0 ? v : G.lastEventId, ye = (g = R == null ? void 0 : R.lastEventTime) !== null && g !== void 0 ? g : G.lastEventTime, le = (p = (u = i.userId) !== null && u !== void 0 ? u : R == null ? void 0 : R.userId) !== null && p !== void 0 ? p : G.userId, this.previousSessionDeviceId = (s = R == null ? void 0 : R.deviceId) !== null && s !== void 0 ? s : G.deviceId, this.previousSessionUserId = (f = R == null ? void 0 : R.userId) !== null && f !== void 0 ? f : G.userId, [4, $i(i.apiKey, E(E({}, i), {
                                deviceId: te,
                                sessionId: Pe,
                                optOut: oe,
                                lastEventId: ae,
                                lastEventTime: ye,
                                userId: le,
                                cookieStorage: $
                            }))];
                        case 9:
                            return fe = A.sent(), [4, t.prototype._init.call(this, fe)];
                        case 10:
                            return A.sent(), ve = !1, (!this.config.lastEventTime || !this.config.sessionId || this.config.lastEventTime && Date.now() - this.config.lastEventTime > this.config.sessionTimeout) && (this.setSessionId((y = (d = i.sessionId) !== null && d !== void 0 ? d : this.config.sessionId) !== null && y !== void 0 ? y : Date.now()), ve = !0), ie = me(i.instanceName), ie.identityStore.setIdentity({
                                userId: this.config.userId,
                                deviceId: this.config.deviceId
                            }), [4, this.add(new fi).promise];
                        case 11:
                            return A.sent(), [4, this.add(new gr).promise];
                        case 12:
                            return A.sent(), [4, this.add(new Vi).promise];
                        case 13:
                            return A.sent(), Ui(this.config.defaultTracking) ? [4, this.add(br()).promise] : [3, 15];
                        case 14:
                            A.sent(), A.label = 15;
                        case 15:
                            return Di(this.config.defaultTracking) ? [4, this.add(wr()).promise] : [3, 17];
                        case 16:
                            A.sent(), A.label = 17;
                        case 17:
                            return !((I = this.config.attribution) === null || I === void 0) && I.disabled ? [3, 19] : (se = Yi({
                                excludeReferrers: (m = this.config.attribution) === null || m === void 0 ? void 0 : m.excludeReferrers,
                                initialEmptyValue: (b = this.config.attribution) === null || b === void 0 ? void 0 : b.initialEmptyValue,
                                resetSessionOnNewCampaign: (P = this.config.attribution) === null || P === void 0 ? void 0 : P.resetSessionOnNewCampaign
                            }), se.__pluginEnabledOverride = ve || !((k = this.config.attribution) === null || k === void 0) && k.trackNewCampaigns ? void 0 : !1, [4, this.add(se).promise]);
                        case 18:
                            A.sent(), A.label = 19;
                        case 19:
                            return ue = Mi(this.config), ue.eventType = ue.eventType || Lt, [4, this.add(ji(ue)).promise];
                        case 20:
                            return A.sent(), [4, this.add(yr()).promise];
                        case 21:
                            return A.sent(), this.initializing = !1, [4, this.runQueuedFunctions("dispatchQ")];
                        case 22:
                            return A.sent(), ie.eventBridge.setEventReceiver(function(pe) {
                                he.track(pe.eventType, pe.eventProperties)
                            }), [2]
                    }
                })
            })
        }, e.prototype.getUserId = function() {
            var i;
            return (i = this.config) === null || i === void 0 ? void 0 : i.userId
        }, e.prototype.setUserId = function(i) {
            if (!this.config) {
                this.q.push(this.setUserId.bind(this, i));
                return
            }(i !== this.config.userId || i === void 0) && (this.config.userId = i, Ii(i, this.config.instanceName))
        }, e.prototype.getDeviceId = function() {
            var i;
            return (i = this.config) === null || i === void 0 ? void 0 : i.deviceId
        }, e.prototype.setDeviceId = function(i) {
            if (!this.config) {
                this.q.push(this.setDeviceId.bind(this, i));
                return
            }
            this.config.deviceId = i, Si(i, this.config.instanceName)
        }, e.prototype.setOptOut = function(i) {
            Ti(i, this.config.instanceName), t.prototype.setOptOut.call(this, i)
        }, e.prototype.reset = function() {
            this.setDeviceId(Fe()), this.setUserId(void 0)
        }, e.prototype.getSessionId = function() {
            var i;
            return (i = this.config) === null || i === void 0 ? void 0 : i.sessionId
        }, e.prototype.setSessionId = function(i) {
            var r;
            if (!this.config) {
                this.q.push(this.setSessionId.bind(this, i));
                return
            }
            if (i !== this.config.sessionId) {
                var n = this.getSessionId(),
                    o = this.config.lastEventTime,
                    a = (r = this.config.lastEventId) !== null && r !== void 0 ? r : -1;
                this.config.sessionId = i, this.config.lastEventTime = void 0, Li(this.config.defaultTracking) && (n && o && this.track(Tt, void 0, {
                    device_id: this.previousSessionDeviceId,
                    event_id: ++a,
                    session_id: n,
                    time: o + 1,
                    user_id: this.previousSessionUserId
                }), this.config.lastEventTime = this.config.sessionId, this.track(St, void 0, {
                    event_id: ++a,
                    session_id: this.config.sessionId,
                    time: this.config.lastEventTime
                })), this.previousSessionDeviceId = this.config.deviceId, this.previousSessionUserId = this.config.userId
            }
        }, e.prototype.extendSession = function() {
            if (!this.config) {
                this.q.push(this.extendSession.bind(this));
                return
            }
            this.config.lastEventTime = Date.now()
        }, e.prototype.setTransport = function(i) {
            if (!this.config) {
                this.q.push(this.setTransport.bind(this, i));
                return
            }
            this.config.transportProvider = Nt(i)
        }, e.prototype.identify = function(i, r) {
            if (We(i)) {
                var n = i._q;
                i._q = [], i = Me(new qe, n)
            }
            return r != null && r.user_id && this.setUserId(r.user_id), r != null && r.device_id && this.setDeviceId(r.device_id), t.prototype.identify.call(this, i, r)
        }, e.prototype.groupIdentify = function(i, r, n, o) {
            if (We(n)) {
                var a = n._q;
                n._q = [], n = Me(new qe, a)
            }
            return t.prototype.groupIdentify.call(this, i, r, n, o)
        }, e.prototype.revenue = function(i, r) {
            if (We(i)) {
                var n = i._q;
                i._q = [], i = Me(new ai, n)
            }
            return t.prototype.revenue.call(this, i, r)
        }, e.prototype.process = function(i) {
            return w(this, void 0, void 0, function() {
                var r, n, o;
                return _(this, function(a) {
                    return r = Date.now(), n = this.config.lastEventTime || Date.now(), o = r - n, i.event_type !== St && i.event_type !== Tt && (!i.session_id || i.session_id === this.getSessionId()) && o > this.config.sessionTimeout && this.setSessionId(r), [2, t.prototype.process.call(this, i)]
                })
            })
        }, e
    }(oi),
    Er = function() {
        var t = new _r;
        return {
            init: V(t.init.bind(t), "init", M(t), q(t, ["config"])),
            add: V(t.add.bind(t), "add", M(t), q(t, ["config.apiKey", "timeline.plugins"])),
            remove: V(t.remove.bind(t), "remove", M(t), q(t, ["config.apiKey", "timeline.plugins"])),
            track: V(t.track.bind(t), "track", M(t), q(t, ["config.apiKey", "timeline.queue.length"])),
            logEvent: V(t.logEvent.bind(t), "logEvent", M(t), q(t, ["config.apiKey", "timeline.queue.length"])),
            identify: V(t.identify.bind(t), "identify", M(t), q(t, ["config.apiKey", "timeline.queue.length"])),
            groupIdentify: V(t.groupIdentify.bind(t), "groupIdentify", M(t), q(t, ["config.apiKey", "timeline.queue.length"])),
            setGroup: V(t.setGroup.bind(t), "setGroup", M(t), q(t, ["config.apiKey", "timeline.queue.length"])),
            revenue: V(t.revenue.bind(t), "revenue", M(t), q(t, ["config.apiKey", "timeline.queue.length"])),
            flush: V(t.flush.bind(t), "flush", M(t), q(t, ["config.apiKey", "timeline.queue.length"])),
            getUserId: V(t.getUserId.bind(t), "getUserId", M(t), q(t, ["config", "config.userId"])),
            setUserId: V(t.setUserId.bind(t), "setUserId", M(t), q(t, ["config", "config.userId"])),
            getDeviceId: V(t.getDeviceId.bind(t), "getDeviceId", M(t), q(t, ["config", "config.deviceId"])),
            setDeviceId: V(t.setDeviceId.bind(t), "setDeviceId", M(t), q(t, ["config", "config.deviceId"])),
            reset: V(t.reset.bind(t), "reset", M(t), q(t, ["config", "config.userId", "config.deviceId"])),
            getSessionId: V(t.getSessionId.bind(t), "getSessionId", M(t), q(t, ["config"])),
            setSessionId: V(t.setSessionId.bind(t), "setSessionId", M(t), q(t, ["config"])),
            extendSession: V(t.extendSession.bind(t), "extendSession", M(t), q(t, ["config"])),
            setOptOut: V(t.setOptOut.bind(t), "setOptOut", M(t), q(t, ["config"])),
            setTransport: V(t.setTransport.bind(t), "setTransport", M(t), q(t, ["config"]))
        }
    };
const j = Er();
var kr = j.add,
    Or = j.extendSession,
    Pr = j.flush,
    Rr = j.getDeviceId,
    xr = j.getSessionId,
    Ar = j.getUserId,
    Cr = j.groupIdentify,
    Ur = j.identify,
    Dr = j.init,
    Nr = j.logEvent,
    Lr = j.remove,
    Mr = j.reset,
    qr = j.revenue,
    Vr = j.setDeviceId,
    Fr = j.setGroup,
    Br = j.setOptOut,
    jr = j.setSessionId,
    zr = j.setTransport,
    Gr = j.setUserId,
    Kr = j.track;
export {
    qe as Identify, ai as Revenue, Sr as Types, kr as add, Er as createInstance, Or as extendSession, Pr as flush, Rr as getDeviceId, xr as getSessionId, Ar as getUserId, Cr as groupIdentify, Ur as identify, Dr as init, Nr as logEvent, Lr as remove, Mr as reset, qr as revenue, Tr as runQueuedFunctions, Vr as setDeviceId, Fr as setGroup, Br as setOptOut, jr as setSessionId, zr as setTransport, Gr as setUserId, Kr as track
};
//# sourceMappingURL=index.CFSvs_Zu.min.js.map