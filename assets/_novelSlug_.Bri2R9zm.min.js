function __vite__mapDeps(indexes) {
    if (!__vite__mapDeps.viteFileDeps) {
        __vite__mapDeps.viteFileDeps = ["assets/index.fWbYkQnd.min.js", "assets/app.BSN4W8HM.min.js", "assets/app-Dwqn0-uG.css", "assets/ChampionPlans.Dd6ubBrC.min.js", "assets/payments.selection.CdCVb7_g.min.js", "assets/stripe.DO7kloeC.min.js", "assets/checkbox.D8ZC8vMF.min.js", "assets/query.progress.Du4NbiWx.min.js", "assets/stripe.BB0w4sOZ.min.js", "assets/ChampionPlanWithDialog.Sz8EjKL5.min.js", "assets/TruncateDisclosure.EJsU_sLh.min.js", "assets/ActivateButton.CUtwAnvT.min.js", "assets/html.CLZ4OSMb.min.js", "assets/index.DVPf4jiX.min.js", "assets/util.CeAI_f06.min.js", "assets/SubscribeDialog.DvhIwTo5.min.js", "assets/paypal.payments.B8nRJeA3.min.js", "assets/backoff.yNU9w_Gi.min.js", "assets/WithProtectedRedirect.BywjySER.min.js", "assets/useChampionPlans.BQ0-iOKC.min.js", "assets/_baseIteratee.BeczBJkZ.min.js", "assets/_cacheHas.3dpnCmml.min.js", "assets/_baseProperty.q3tcxGBl.min.js"]
    }
    return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import {
    f as r,
    j as t,
    h as v,
    au as Je,
    g as R,
    A as z,
    aj as ee,
    bF as y,
    bx as P,
    r as b,
    at as Ve,
    P as Ze,
    a7 as j,
    aJ as Y,
    b3 as Xe,
    t as U,
    bG as et,
    p as De,
    bH as tt,
    bI as st,
    x as Me,
    bJ as at,
    y as Ue,
    bK as fe,
    bL as He,
    bM as F,
    bN as rt,
    q as We,
    bO as it,
    o as je,
    a5 as nt,
    a8 as H,
    a6 as ot,
    as as Fe,
    bP as ct,
    bQ as q,
    bB as lt,
    l as dt,
    bR as xe,
    bS as mt,
    bT as pt,
    ac as se,
    bU as ut,
    bV as ht,
    bW as J,
    bX as ge,
    Q as ft,
    R as xt,
    bY as gt,
    bZ as bt,
    av as Nt,
    aI as wt,
    b_ as yt,
    b$ as Tt,
    c0 as Ct
} from "./app.BSN4W8HM.min.js";
import {
    R as vt,
    G as Pt,
    B as At
} from "./bookmarks.client.BWXN1Pxg.min.js";
import {
    S as It
} from "./SeoHelmet.C9FiXffu.min.js";
import {
    g as be
} from "./path.CF9Kc7wv.min.js";
import {
    C as K,
    E as _t
} from "./constants.C9Xgjp2j.min.js";
import {
    c as Et,
    N as St,
    R as Ne,
    a as Rt,
    u as Lt,
    T as kt,
    b as Ot
} from "./Tooltip.DXI-aTB-.min.js";
import {
    T as Bt
} from "./tabs.Bt9dsHaO.min.js";
import {
    C as Q,
    S as $t
} from "./styles.-VfZxx2n.min.js";
import {
    N as Vt
} from "./announcements.list.tESQOqtx.min.js";
import {
    R as we,
    a as Dt,
    S as Mt,
    b as Ut
} from "./reviews.dialog.BrIYXWli.min.js";
import {
    u as Ge,
    p as Ht
} from "./html.CLZ4OSMb.min.js";
import {
    H as O,
    S as Wt,
    a as jt
} from "./NovelReviewScore.BA_adrvz.min.js";
import {
    a as Ye,
    S as qe
} from "./text-pages.styles.B-3lcTut.min.js";
import {
    u as Ft,
    C as Gt,
    a as Yt
} from "./ChampionPlanWithDialog.Sz8EjKL5.min.js";
import {
    W as qt,
    C as Kt
} from "./ChampionOtherGatewayBox.BoNCHnRq.min.js";
import {
    S as ae
} from "./ScreenBackground.B7OoRdly.min.js";
import {
    N as Qt,
    u as zt
} from "./NovelChapter.BEe2y9lh.min.js";
import {
    C as Jt
} from "./chapters.client.BqFA7pYJ.min.js";
import {
    A as Zt,
    a as Xt,
    b as es
} from "./AccordionSummary.CqtbB2FW.min.js";
import {
    T as Z
} from "./TruncateDisclosure.EJsU_sLh.min.js";
import {
    T as ye
} from "./TruncateShowOrHide.es3nm7ZL.min.js";
import {
    u as ts,
    N as ss
} from "./useNovelStatus.BH42DY_K.min.js";
import {
    G as as
} from "./GradationButton.BrGACGBP.min.js";
import {
    S as rs
} from "./lazy-avatar.C01FGxiO.min.js";
import {
    u as Te,
    m as _
} from "./schema.dM6qCRzh.min.js";
import {
    a as is
} from "./index.D8jIUvOW.min.js";
import "./RelatedRecommends.Su3EijRB.min.js";
import "./BlurImg.4lbVpDr4.min.js";
import "./BlurComponent.pu8JV-U7.min.js";
import "./novel_announcements.client.nMeqcv8h.min.js";
import "./Tooltip.-lmH7J9G.min.js";
import "./Divider.s2eBBWcw.min.js";
import "./Tabs.Ds9YyvRc.min.js";
import "./UserFlairBadge.D4YxxncA.min.js";
import "./reply.6u_hcxNG.min.js";
import "./query.progress.Du4NbiWx.min.js";
import "./pin.CgX2BX4o.min.js";
import "./error.api.BP9hZPsV.min.js";
import "./AlertTitle.BwQ6E1s4.min.js";
import "./ActivateButton.CUtwAnvT.min.js";
import "./_baseIteratee.BeczBJkZ.min.js";
import "./_cacheHas.3dpnCmml.min.js";
import "./_baseProperty.q3tcxGBl.min.js";
import "./_arrayIncludesWith.BskCksw4.min.js";
import "./index.DXPNvZkV.min.js";
import "./index.DVPf4jiX.min.js";
import "./use-immer.module.cCdRkcOp.min.js";
import "./util.CeAI_f06.min.js";
import "./SubscribeDialog.DvhIwTo5.min.js";
import "./paypal.payments.B8nRJeA3.min.js";
import "./stripe.DO7kloeC.min.js";
import "./checkbox.D8ZC8vMF.min.js";
import "./payments.selection.CdCVb7_g.min.js";
import "./backoff.yNU9w_Gi.min.js";
import "./WithProtectedRedirect.BywjySER.min.js";
import "./stripe.BB0w4sOZ.min.js";
import "./component.D953kRkM.min.js";

function ns() {
    return r("div", {
        className: "flex flex-col items-center",
        children: [t("div", {
            className: "font-set-sb12 rounded-4 bg-gradient-ww-champion-status py-4 px-6 text-white",
            children: "Sponsor this story!"
        }), t("div", {
            className: "h-6 w-6 origin-top-right rotate-45 bg-gradient-ww-champion-status pl-8"
        })]
    })
}

function S({
    className: e,
    children: s,
    ...a
}) {
    return t(Je, {
        className: v("bg-[#ffffff] dark:bg-[#2a2a2a]", e),
        ...a,
        children: s
    })
}

function os({
    descriptionHtml: e
}) {
    const s = Ge(e);
    return r(R, {
        children: [t("h4", {
            className: Q,
            children: "Details"
        }), t("div", {
            className: "fr-view prose font-set-r15-h150 max-w-none text-grey-800 dark:prose-invert sm2:font-set-r16-h150 dark:text-grey-300",
            children: s
        })]
    })
}

function cs({
    novel: e
}) {
    var s, a, i, n;
    return r(z, {
        children: [((s = e == null ? void 0 : e.language) == null ? void 0 : s.value) && t(ee, {
            color: "inherit",
            href: `/novels/?language=${(a=e==null?void 0:e.language)==null?void 0:a.value}`,
            underline: "none",
            children: t(z.Chip, {
                className: "font-set-sb13",
                label: (i = e == null ? void 0 : e.language) == null ? void 0 : i.value
            })
        }), (n = e == null ? void 0 : e.genres) == null ? void 0 : n.map(o => t(ee, {
            color: "inherit",
            href: `/novels/?genre=${o}`,
            underline: "none",
            children: t(z.Chip, {
                className: "font-set-sb13",
                label: o
            })
        }, o))]
    })
}

function ls({
    novel: e
}) {
    var a, i, n, o, d;
    const s = (((i = (a = e == null ? void 0 : e.chapterInfo) == null ? void 0 : a.chapterCount) == null ? void 0 : i.value) || 0) + (((o = (n = e == null ? void 0 : e.sponsorInfo) == null ? void 0 : n.advanceChapterCount) == null ? void 0 : o.value) || 0);
    return r(O, {
        item: e,
        count: 2,
        className: "h-[20px] w-[243px] first-of-type:mb-[6px]",
        skeletonProps: y,
        children: [r("div", {
            className: "flex flex-col space-y-6 sm2:flex-row sm2:space-y-0",
            children: [r(Ce, {
                children: [t(ve, {
                    title: "Chapters"
                }), t(Pe, {
                    detail: `${s} Chapters`
                })]
            }), r(Ce, {
                children: [t(ve, {
                    title: "Licensed From"
                }), t(Pe, {
                    detail: ((d = e == null ? void 0 : e.licensedFrom) == null ? void 0 : d.value) || "Unknown"
                })]
            })]
        }), t("div", {
            className: "pt-[20px] sm2:pt-[28px]",
            children: t(cs, {
                novel: e
            })
        })]
    })
}
const Ce = ({
        children: e
    }) => t("div", {
        className: "flex flex-row items-center space-x-8 sm2:w-[240px] sm2:flex-col sm2:items-start sm2:space-y-4 sm2:space-x-0",
        children: e
    }),
    ve = ({
        title: e
    }) => t("div", {
        className: "font-set-m12 shrink-0 text-gray-700 sm2:font-set-m14 dark:text-gray-500",
        children: e
    }),
    Pe = ({
        detail: e
    }) => t("div", {
        className: "font-set-sb14 text-gray-750 break-word line-clamp-2 sm2:font-set-sb16 dark:text-gray-300 sm2:text-gray-800",
        children: e
    });

function Ae({
    children: e,
    loaded: s
}) {
    return r("div", {
        className: "pb-16",
        children: [t("div", {
            className: "py-16 sm2:pt-24 sm2:pb-16",
            children: t(S, {
                item: s,
                className: "h-[20px] w-[210px] sm:w-[183px]",
                skeletonProps: y,
                children: t("span", {
                    className: Q,
                    children: "Reviews"
                })
            })
        }), e]
    })
}

function ds({
    children: e,
    novel: s,
    loaded: a
}) {
    return r(qe, {
        className: "mx-auto mt-[12px] px-0",
        showDivider: !1,
        children: [r(P, {
            className: "mb-[14px]",
            container: !0,
            direction: "row",
            justifyContent: "space-between",
            alignItems: "center",
            children: [t(P, {
                item: !0,
                children: t(Ye, {
                    children: t(S, {
                        item: a,
                        className: "h-[20px] w-[164px]",
                        skeletonProps: y,
                        children: t("span", {
                            className: Q,
                            children: "Translator's Notice"
                        })
                    })
                })
            }), a && t(P, {
                item: !0,
                children: t(ee, {
                    className: "cursor-pointer text-[15px] font-bold text-blue hover:underline",
                    href: `/announcements/${s==null?void 0:s.slug}`,
                    children: "View All"
                })
            })]
        }), e]
    })
}
const ms = b.lazy(() => Ve(() =>
    import ("./index.fWbYkQnd.min.js"), __vite__mapDeps([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22])));

function ps({
    novel: e,
    goToTab: s
}) {
    const [a, i] = Ze({
        triggerOnce: !0
    }), {
        user: n
    } = j();
    return r(R, {
        children: [t("div", {
            ref: a
        }), t(Y, {
            children: r(qe, {
                className: "mx-auto !mt-[12px] px-0 !pb-0",
                children: [t(P, {
                    container: !0,
                    direction: "row",
                    justifyContent: "space-between",
                    alignItems: "center",
                    children: t(P, {
                        item: !0,
                        children: t(Ye, {
                            className: "my-[14px] sm:my-[20px]",
                            children: t("span", {
                                className: Q,
                                children: "Popular Subscription Tiers"
                            })
                        })
                    })
                }), r(P, {
                    container: !0,
                    direction: "column",
                    className: "mb-[30px]",
                    children: [t(P, {
                        item: !0,
                        children: i && t(Y, {
                            children: t(ms, {
                                novel: e,
                                isMain: !1,
                                listType: "popular"
                            })
                        })
                    }), n && t(P, {
                        item: !0,
                        children: t("div", {
                            className: "mt-[30px] flex items-center justify-center",
                            children: t(Xe, {
                                className: "cursor-pointer text-[15px] font-bold text-blue hover:underline",
                                onClick: () => s("champion"),
                                children: "See all Tiers"
                            })
                        })
                    })]
                })]
            })
        })]
    })
}

function us({
    novel: e,
    goToTab: s
}) {
    var i, n, o;
    const a = ((i = e.description) == null ? void 0 : i.value) || "";
    return r("div", {
        className: "pb-[10px]",
        children: [t("div", {
            className: "border-ww-divider-bottom py-[20px] sm2:py-[28px]",
            children: t(ls, {
                novel: e
            })
        }), a && t("div", {
            className: "border-ww-divider-bottom py-[20px] sm2:py-[28px]",
            children: t(os, {
                descriptionHtml: a
            })
        }), t("div", {
            className: "pb-16",
            children: t(b.Suspense, {
                fallback: r(Ae, {
                    children: [t(we, {}), t(we, {})]
                }),
                children: t(Dt, {
                    entity: e,
                    title: !1,
                    pagination: !1,
                    sorting: !1,
                    submitReview: !0,
                    reviewCount: 3,
                    wrapperComponent: Ae,
                    showsDialogOpener: !0
                })
            })
        }), t(Vt, {
            novel: e,
            announcementsCount: 2,
            hideWhenNoAnnouncements: !0,
            wrapperComponent: ds
        }), (!e || !!e && ((o = (n = e.sponsorInfo) == null ? void 0 : n.hasAnyPlans) == null ? void 0 : o.value)) && t(ps, {
            novel: e,
            goToTab: s
        })]
    })
}

function hs({
    advanceChapterCount: e
}) {
    const [s, {
        width: a
    }] = Ft(), i = a < Re;
    return t(R, {
        children: t("section", {
            ref: s,
            className: "w-full",
            style: {
                height: i ? `${a*xs}px` : "auto"
            },
            children: r("div", {
                style: {
                    transform: i ? `perspective(${a}px) translateZ(calc(${a}px - ${Re}px))` : "none"
                },
                className: "relative inline-flex origin-top-left",
                children: [t("div", {
                    className: "mr-15 inline-block",
                    children: r(Ie, {
                        children: [t(_e, {
                            className: "bg-gradient-ww-benefit-box-free",
                            title: "FREE"
                        }), r(Ee, {
                            children: [t("span", {
                                className: G,
                                children: " "
                            }), t("span", {
                                className: Se,
                                children: "ALL"
                            }), t("span", {
                                className: G,
                                children: `Published
Chapters`
                            })]
                        })]
                    })
                }), t(fs, {}), r(Ie, {
                    children: [t(_e, {
                        className: "bg-gradient-ww-benefit-box-advance",
                        title: "Early Access"
                    }), r(Ee, {
                        children: [t("span", {
                            className: G,
                            children: "up to"
                        }), t("span", {
                            className: Se,
                            children: e ? ? "..."
                        }), t("span", {
                            className: G,
                            children: `Advance
Chapters`
                        })]
                    })]
                })]
            })
        })
    })
}
const Ie = ({
        children: e
    }) => t("div", {
        className: "h-160 w-160 overflow-hidden rounded-20 shadow-ww-text-container",
        children: e
    }),
    _e = ({
        className: e,
        title: s
    }) => t("div", {
        className: U(v("flex h-40 items-center justify-center", e)),
        children: t("span", {
            className: "font-set-sb15 text-white",
            children: s
        })
    }),
    Ee = ({
        children: e
    }) => t("div", {
        className: "h-120 bg-gray-bg-elevate pt-12",
        children: t("div", {
            className: "flex flex-col items-center space-y-1",
            children: e
        })
    }),
    fs = () => t("div", {
        className: "absolute top-1/2 left-1/2 h-29 w-29 -translate-x-1/2 -translate-y-1/2 rounded-full bg-gray-850 text-white dark:bg-gray-100 dark:text-gray-800",
        children: t("div", {
            className: "relative flex h-full items-center justify-center",
            children: t(et, {
                className: "h-19 w-19"
            })
        })
    }),
    Se = "font-set-sb26 text-gray-t2",
    G = "font-set-m14 text-gray-desc whitespace-pre-line",
    Re = 335,
    xs = 160 / 335,
    Ke = b.lazy(() => Ve(() =>
        import ("./index.fWbYkQnd.min.js"), __vite__mapDeps([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22])));

function gs({
    novel: e,
    activeSubscription: s
}) {
    return t("div", {
        "data-amplitude-params": JSON.stringify({
            on: Gt.NovelCover
        }),
        children: t(ae, {
            className: "bg-gray-100 dark:bg-gray-850",
            children: s ? t(Ns, {
                novel: e,
                activeSubscription: s
            }) : t(bs, {
                novel: e
            })
        })
    })
}
const bs = ({
        novel: e
    }) => {
        const {
            advanceChapterCount: s
        } = De(e);
        return r(R, {
            children: [t(ae, {
                className: "dark:bg-gradient-to-b dark:from-gray-900 dark:to-transparent",
                children: r("div", {
                    className: "text-center",
                    children: [r("div", {
                        className: "flex flex-col items-center px-8",
                        children: [t("div", {
                            className: "pb-12 pt-24",
                            children: t("img", {
                                className: "h-32 w-140 object-contain md:h-36 md:w-167",
                                src: "/images/champion-logo@3x.png",
                                alt: "champion logo"
                            })
                        }), t("h1", {
                            className: "font-set-b28 whitespace-pre-line pb-12 text-gray-t1 md:font-set-b32",
                            children: `Be a Champion of
${e.name||""}`
                        }), t("h4", {
                            className: "font-set-m15 pb-28 text-gray-t3 md:font-set-m16",
                            children: "Directly support authors and translators, and be rewarded for it!"
                        }), t("h3", {
                            className: "font-set-b20 w-full bg-gradient-ww-blue-button bg-clip-text pb-16 text-transparent md:font-set-b21",
                            children: "No more waiting!"
                        })]
                    }), t("div", {
                        className: "pb-40",
                        children: t(hs, {
                            advanceChapterCount: s
                        })
                    })]
                })
            }), t("div", {
                className: "text-center",
                children: t("h2", {
                    className: "font-set-sb20 pb-16 text-gray-t1 md:font-set-sb21",
                    children: "Choose Champion Tiers"
                })
            }), t(Y, {
                children: t("div", {
                    className: "pb-40",
                    children: t(Ke, {
                        novel: e
                    })
                })
            })]
        })
    },
    Ns = ({
        novel: e,
        activeSubscription: s
    }) => {
        const {
            plan: a
        } = tt(s), i = o => a != null && a.id ? o.id !== a.id : !0, n = qt.includes((s == null ? void 0 : s.paymentGateway) ? ? st.None);
        return r(R, {
            children: [r(ae, {
                className: "bg-gradient-to-b from-blue-100 to-transparent dark:from-blue-990",
                children: [r("div", {
                    className: "flex flex-col items-center px-8 text-center",
                    children: [t("img", {
                        className: "pt-24",
                        src: "/images/champion-logo@3x.png",
                        alt: "champion logo",
                        width: 140,
                        height: 32
                    }), t("h1", {
                        className: "font-set-b26 pb-4 text-gray-t1 md:font-set-b28",
                        children: e.name || ""
                    }), t("h4", {
                        className: "font-set-m15 text-gray-desc",
                        children: "You are already subscribed."
                    })]
                }), n && a ? t("div", {
                    className: "flex justify-center border-b border-gray-330 py-20 dark:border-gray-800",
                    children: t(Yt, {
                        plan: a,
                        currentSubscription: s ? ? null
                    })
                }) : n ? null : t(Kt, {
                    gateway: s == null ? void 0 : s.paymentGateway
                })]
            }), n && r(R, {
                children: [t("div", {
                    className: "text-center",
                    children: t("h2", {
                        className: "font-set-sb20 py-16 text-gray-t1 md:font-set-sb21",
                        children: "Change Your Champion Tier"
                    })
                }), t(Y, {
                    children: t("div", {
                        className: "pb-42",
                        children: t(Ke, {
                            novel: e,
                            plansFilter: i
                        })
                    })
                })]
            })]
        })
    };
var M = (e => (e[e.Newest = 0] = "Newest", e[e.Oldest = 1] = "Oldest", e))(M || {});

function ws({
    advanced: e,
    novel: s,
    chapterGroup: a,
    sort: i,
    active: n,
    chunked: o
}) {
    const {
        user: d
    } = j(), f = Me(at, {
        novelId: s.id,
        filter: e ? {
            isAdvanceChapter: {
                value: !0
            }
        } : {
            chapterGroupId: {
                value: a == null ? void 0 : a.id
            }
        }
    }), {
        data: c
    } = Ue(Jt, l => l.getChapterList, f, ["chapterGroups", s.slug, d == null ? void 0 : d.id, a == null ? void 0 : a.id], {
        suspense: !0,
        enabled: !!a && n,
        staleTime: 1e3 * 60 * 5,
        showModalOnError: !0
    }), p = b.useMemo(() => {
        var w;
        if (!(c != null && c.items)) return [];
        let l = e ? c.items.flatMap(N => N.chapterList) : Array.from(((w = c.items[0]) == null ? void 0 : w.chapterList) || []);
        return l = i === M.Newest ? l.reverse() : l, e ? l.filter(N => fe(N).isAdvancedChapter) : l.filter(N => !fe(N).isAdvancedChapter)
    }, [c == null ? void 0 : c.items, i, e]), {
        isVipBenefit: u
    } = He(s), {
        slug: h
    } = s;
    return t("div", {
        className: "md:px-0",
        children: r("div", {
            className: v({
                "grid grid-cols-1 md:grid-cols-2 md:gap-x-[20px]": o
            }, "w-full"),
            children: [p.map((l, x) => t(ys, {
                idx: x,
                chaptersLength: p.length,
                novelSlug: h,
                novel: s,
                chapter: l,
                isVipBenefitNovel: u
            }, l.entityId)), c && p.length === 0 && t("div", {
                className: "py-[12px]",
                children: "Chapters coming soon. Keep watching this space."
            })]
        })
    })
}
const ys = ({
    idx: e,
    chaptersLength: s,
    novel: a,
    chapter: i,
    isVipBenefitNovel: n,
    ...o
}) => {
    const d = Math.ceil(s / 2) - 1,
        c = Math.floor(e / 2) === d,
        {
            activeSubscription: p
        } = F({
            novelId: a == null ? void 0 : a.id,
            enabled: !!(a != null && a.id)
        }),
        u = rt({
            novel: a,
            chapter: i,
            isVipBenefitNovel: n,
            championedNovel: !!p
        });
    return t("div", {
        style: {
            contentVisibility: "auto",
            containIntrinsicSize: "61.0312px"
        },
        className: v("border-b border-gray-line-base", c && "md:border-b-0"),
        "data-amplitude-params": JSON.stringify({
            on: K.NovelCover
        }),
        children: t(Qt, {
            chapter: i,
            status: u,
            renderedFrom: K.NovelCover,
            ...o
        })
    })
};

function Le({
    advanced: e,
    index: s,
    totalLength: a,
    novel: i,
    chapterGroup: n,
    sort: o,
    initialExpanded: d,
    onExpandGroup: f,
    chunked: c
}) {
    const [p, u] = b.useState(d ? ? !1), h = o === M.Newest ? a - s : s + 1, l = b.useCallback((x, w) => {
        f == null || f(n), u(w)
    }, [n, f]);
    return r(es, {
        disableGutters: !0,
        expanded: p,
        className: v(["my-0 overflow-hidden overflow-clip rounded-none border-b-0 shadow-none first:rounded-none last:rounded-none dark:bg-[#202020]", "md:mb-[12px] md:rounded-[12px] md:bg-white md:shadow-ww-text-container md:first:rounded-[12px] md:last:rounded-[12px] md:dark:bg-gray-850"]),
        onChange: l,
        TransitionProps: {
            timeout: 500,
            appear: !1
        },
        children: [t(Zt, {
            className: v(["border-b border-solid !border-b-gray-300 px-0 dark:!border-b-gray-800 dark:bg-[#202020]", "md:border-b-0 md:bg-white md:px-[16px] md:dark:bg-gray-850"]),
            expandIcon: t(We, {
                className: v("origin-center rotate-180", {
                    "text-gray-600": !p,
                    "text-blue-500": p
                })
            }),
            children: r("section", {
                className: "flex h-[27px] items-center md:h-[40px]",
                children: [e ? t("img", {
                    className: "mr-4 h-36 w-36",
                    src: "/images/champion-badge@3x.png",
                    alt: "champion-badge",
                    width: 36,
                    height: 36
                }) : t("div", {
                    className: "font-set-b16 mr-[8px] inline-block h-[32px] min-w-[32px] rounded-[4px] bg-gray-container-base text-gray-t1",
                    children: t("span", {
                        className: "flex h-full w-full items-center justify-center",
                        children: h
                    })
                }), t("span", {
                    className: "font-set-sb18 text-gray-t1 line-clamp-1",
                    children: n.title
                })]
            })
        }), t(Xt, {
            className: "bg-white px-0 py-0 dark:bg-[#202020] md:bg-gray-50 md:py-[21px] md:px-[28px] md:dark:bg-gray-850",
            children: t(b.Suspense, {
                fallback: t("div", {
                    className: "py-[12px] content-dead-center",
                    children: t(it, {})
                }),
                children: t(ws, {
                    advanced: e,
                    novel: i,
                    chapterGroup: n,
                    sort: o,
                    active: p,
                    chunked: c ? ? !1
                })
            })
        })]
    })
}

function Ts({
    timeAgo: e,
    chapterLink: s,
    chapterNumber: a,
    isRecentlyPublished: i = !1
}) {
    return r("div", {
        children: [t("div", {
            className: "font-set-m12 text-gray-600 md:font-set-m15 dark:text-gray-400",
            children: "Latest Chapter"
        }), r("div", {
            className: "mt-[4px] flex flex-wrap items-center",
            children: [r("div", {
                className: "mr-[6px] flex",
                children: [r(je, {
                    to: s,
                    state: {
                        from: K.NovelCover
                    },
                    className: "font-set-sb16 text-gray-t1 md:font-set-sb18",
                    children: ["Chapter ", a]
                }), i && t("div", {
                    className: "relative ml-[2px] w-[6px]",
                    children: t("span", {
                        className: "absolute top-[4px] inline-block h-[6px] w-[6px] rounded-full bg-blue-600"
                    })
                })]
            }), t("div", {
                className: "font-set-r13 text-gray-600 md:font-set-r14 dark:text-gray-400",
                children: e
            })]
        })]
    })
}

function Cs({
    novel: e
}) {
    var B;
    const {
        id: s,
        slug: a,
        status: i
    } = e, [n, o] = b.useState(M.Newest), {
        activeSubscription: d
    } = F({
        novelId: e == null ? void 0 : e.id,
        enabled: !!(e != null && e.id)
    }), {
        user: f
    } = j(), c = Et({
        user: f ? ? void 0,
        novelId: e.id
    }), p = !!d || c, {
        data: u
    } = zt({
        novel: e,
        advance: !0,
        enabled: e && p
    }), h = b.useMemo(() => u == null ? void 0 : u.flatMap(C => C.chapterList), [u]), l = ((h == null ? void 0 : h.length) || 0) > 0, x = b.useMemo(() => {
        var $;
        return (Array.from((($ = e.chapterInfo) == null ? void 0 : $.chapterGroups) || []).filter(I => {
            var E, V, D;
            return ((E = I.counts) == null ? void 0 : E.advance) === 0 || ((V = I.counts) == null ? void 0 : V.total) !== ((D = I.counts) == null ? void 0 : D.advance)
        }) || []).sort((I, E) => n === M.Newest ? E.order - I.order : I.order - E.order)
    }, [(B = e.chapterInfo) == null ? void 0 : B.chapterGroups, n]), [w] = x, N = { ...w,
        id: -1,
        title: "For Champions"
    }, {
        latestChapter: m
    } = e.chapterInfo || {}, A = nt((m == null ? void 0 : m.whenToPublish) ? ? (m == null ? void 0 : m.publishedAt), {
        refreshInterval: 0
    }), T = b.useMemo(() => {
        const C = H();
        return H.unix(ot((m == null ? void 0 : m.whenToPublish) ? ? (m == null ? void 0 : m.publishedAt))).isAfter(C.subtract(15, "day"))
    }, [m]), g = `/novel/${e.slug}/${m==null?void 0:m.slug}`, L = Fe(m == null ? void 0 : m.number);
    return r("div", {
        className: "pb-[40px] pt-[12px] md:px-0",
        children: [t(St, {
            classes: {
                collapse: "-mx-8",
                root: "mb-12"
            },
            novelId: s,
            novelSlug: a,
            novelStatus: i
        }), x.length > 0 && r("div", {
            className: "mb-[20px] flex flex-row flex-nowrap pt-[8px]",
            children: [m && t(Ts, {
                timeAgo: A,
                chapterLink: g,
                chapterNumber: L,
                isRecentlyPublished: T
            }), t("div", {
                className: "flex flex-1 items-end justify-end md:mt-0",
                children: t("div", {
                    children: t(Mt, {
                        options: [{
                            text: "Newest",
                            value: M.Newest
                        }, {
                            text: "Oldest",
                            value: M.Oldest
                        }],
                        onChange: ({
                            value: C
                        }) => o(C),
                        defaultValue: n
                    })
                })
            })]
        }), r("div", {
            children: [p && l && t(Le, {
                advanced: !0,
                index: 0,
                totalLength: x.length,
                novel: e,
                chapterGroup: N,
                initialExpanded: !0,
                sort: n,
                chunked: !0
            }), x.map((C, k) => t(Le, {
                index: k,
                totalLength: x.length,
                novel: e,
                chapterGroup: C,
                sort: n,
                chunked: !0
            }, C.id))]
        })]
    })
}

function vs({
    novel: e,
    bookmark: s,
    onGoToTab: a,
    containerRef: i,
    novelTabsRef: n
}) {
    var h, l, x, w;
    const {
        user: o
    } = j(), {
        activeSubscription: d,
        isSuccess: f
    } = F({
        novelId: e == null ? void 0 : e.id,
        enabled: !!(e != null && e.id)
    }), c = b.useMemo(() => f && !d ? t("div", {
        className: "relative !m-0",
        children: t("div", {
            className: "pointer-events-none absolute bottom-0 left-1/2 -translate-x-1/2 whitespace-nowrap",
            children: t(ns, {})
        })
    }) : void 0, [d, f]), p = (((l = (h = e == null ? void 0 : e.chapterInfo) == null ? void 0 : h.chapterCount) == null ? void 0 : l.value) || 0) + (((w = (x = e == null ? void 0 : e.sponsorInfo) == null ? void 0 : x.advanceChapterCount) == null ? void 0 : w.value) || 0), u = b.useMemo(() => {
        var A, T;
        if (!e) return [];
        const N = {
            chapters: {
                name: "Chapters",
                key: "chapters",
                component: t(Cs, {
                    novel: e
                }),
                hidden: p == 0
            },
            about: {
                name: "About",
                key: "about",
                component: t(us, {
                    novel: e,
                    goToTab: a
                })
            },
            champion: {
                name: "Champion",
                key: "champion",
                component: t(gs, {
                    novel: e,
                    activeSubscription: d
                }),
                icon: c,
                hidden: !o || !((T = (A = e == null ? void 0 : e.sponsorInfo) == null ? void 0 : A.hasAnyPlans) != null && T.value)
            }
        };
        return o && s ? [N.chapters, N.champion, N.about] : [N.about, N.chapters, N.champion]
    }, [e, p, a, d, c, o, s]);
    return r("div", {
        ref: i,
        children: [!e && r("div", {
            children: [r("div", {
                children: [r("div", {
                    className: "flex flex-row space-x-[30px] pb-[10px] sm:space-x-[60px]",
                    children: [t(S, {
                        item: e,
                        className: "h-[24px] w-[79px] sm:w-[130px]",
                        skeletonProps: y
                    }), t(S, {
                        item: e,
                        className: "h-[24px] w-[79px] sm:w-[130px]",
                        skeletonProps: y
                    }), t(S, {
                        item: e,
                        className: "h-[24px] w-[79px] sm:w-[130px]",
                        skeletonProps: y
                    })]
                }), t("div", {
                    className: "ml-[-8px] h-[3px] w-[95px] bg-blue sm:w-[146px]"
                })]
            }), t(ct, {
                className: "mx-[-20px] w-[calc(100%+40px)] max-w-[1024px] sm:mx-[-30px] sm:w-[calc(100%+60px)] lg:mx-0 lg:w-[100%]"
            }), r("div", {
                className: "my-[24px] flex flex-col space-y-[12px] sm:my-[30px] lg:mx-[92px]",
                children: [t(S, {
                    item: e,
                    className: "h-[20px] w-[183px]",
                    skeletonProps: y
                }), t(S, {
                    item: e,
                    className: "h-[20px] w-[100%]",
                    skeletonProps: y
                }), t(S, {
                    item: e,
                    className: "mb-[10px] h-[20px] w-[90%]",
                    skeletonProps: y
                }), t(S, {
                    item: e,
                    className: "h-[20px] w-[100%]",
                    skeletonProps: y
                }), t(S, {
                    item: e,
                    className: "h-[20px] w-[90%]",
                    skeletonProps: y
                })]
            })]
        }), e && t("div", {
            id: "novel-tabs",
            children: t(Bt, {
                ref: n,
                items: u,
                divider: !0,
                keepTabsMounted: !0,
                classes: {
                    tabFlexContainer: "space-x-20 sm2:space-x-36 sm2:pt-[10px]",
                    tab: "font-set-sb16 sm2:font-set-sb20 sm2:px-[8px] px-0 py-[13px] overflow-visible",
                    divider: v($t, "relative -top-1")
                }
            })
        })]
    })
}

function Ps({
    novel: e,
    bookmark: s,
    onGoToTab: a,
    containerRef: i,
    novelTabsRef: n
}) {
    return r("div", {
        className: "mx-auto px-[20px] pb-40 sm2:px-[40px] md:max-w-[1024px]",
        children: [t(vs, {
            novel: e,
            bookmark: s,
            onGoToTab: a,
            containerRef: i,
            novelTabsRef: n
        }), t("div", {
            "data-amplitude-params": JSON.stringify({
                on: _t.NovelCover
            }),
            children: r(Ne, {
                children: [t(Ne.Title, {}), t("div", {
                    className: "pt-12 md:pt-16",
                    children: t(Rt, {
                        novel: e
                    })
                })]
            })
        })]
    })
}

function As({
    novelId: e,
    novelSlug: s,
    bookmarkChapter: a,
    isLoading: i,
    pricingModel: n,
    firstChapter: o,
    karmaFreeChapters: d,
    onChapterRead: f,
    vipBenefitedNovel: c
}) {
    const p = `/novel/${s}/${(a==null?void 0:a.slug)??(o==null?void 0:o.slug)??null}`,
        u = (a == null ? void 0 : a.name) || "",
        {
            activeSubscription: h,
            isLoading: l
        } = F({
            novelId: e,
            enabled: !!e,
            keepPreviousData: !1
        }),
        x = i || l;
    return r(O, {
        item: !x,
        className: "rounded-[12px]",
        skeletonProps: y,
        children: [t(je, {
            to: p,
            state: {
                from: K.NovelCover
            },
            onClick: f,
            children: t(as, {
                className: "h-[51px] w-full rounded-[12px] sm2:h-[60px]",
                disabled: !o,
                children: r("div", {
                    className: "flex w-full flex-col px-[20px]",
                    children: [a ? "CONTINUE READING" : "START READING", u && t("div", {
                        className: "font-set-sb10 truncate text-white/70",
                        children: u
                    })]
                })
            })
        }), t("div", {
            className: "font-set-sb12 mt-[4px] mb-[-18px] flex h-[14px] justify-center",
            children: !x && t(Is, {
                vipBenefited: !!c,
                championed: !!h,
                pricingModel: n,
                karmaFreeChapters: d
            })
        })]
    })
}
const Is = ({
    vipBenefited: e,
    championed: s,
    pricingModel: a,
    karmaFreeChapters: i
}) => a === "karma" ? e || s ? t("div", {
    className: "flex items-center",
    children: t("div", {
        className: "text-blue-600",
        children: s ? "Subscribing" : "VIP Access"
    })
}) : t("div", {
    className: "text-blue-600",
    children: `${q(i||0,"Freeview Chapter")}`
}) : a === "free" ? t("div", {
    className: "text-blue-600",
    children: "Free for All Chapters"
}) : t(R, {});

function _s({
    author: e,
    translator: s,
    isLoading: a
}) {
    return r(O, {
        item: !a,
        skeletonProps: y,
        children: [r(ke, {
            children: [t(Oe, {
                title: "Author"
            }), t(Be, {
                detail: e || "Unknown"
            })]
        }), r(ke, {
            children: [t(Oe, {
                title: "Translator"
            }), t(Be, {
                detail: s || "Unknown"
            })]
        })]
    })
}
const ke = ({
        children: e
    }) => t("div", {
        className: "mb-[2px] flex flex-row items-center space-x-4 text-gray-t3",
        children: e
    }),
    Oe = ({
        title: e
    }) => t("div", {
        className: "font-set-m13 sm2:font-set-m15",
        children: `${e}:`
    }),
    Be = ({
        detail: e
    }) => t("div", {
        className: "font-set-sb15 break-word line-clamp-1 sm2:font-set-sb15",
        children: e
    });

function Es({
    classes: e,
    isLoading: s,
    reviewRating: a,
    reviewCount: i,
    onReviewClick: n
}) {
    return t(O, {
        item: !s,
        count: 2,
        className: "h-[22px] w-[176px] max-w-full last:mt-0 last:h-0 sm2:mt-[8px]",
        skeletonProps: y,
        children: r("div", {
            className: "font-set-sb18 flex items-center text-gray-t1 sm2:font-set-sb20",
            children: [a !== void 0 ? r("span", {
                className: U("flex items-center", e == null ? void 0 : e.rating),
                children: [t(rs, {
                    className: U("h-[16px] w-[16px] text-gray-t0 sm2:h-[20px] sm2:w-[20px]", e == null ? void 0 : e.goodIcon)
                }), t("span", {
                    className: "ml-[4px]",
                    children: lt(a)
                }), t(Ss, {
                    className: e == null ? void 0 : e.medal,
                    rating: a * 100
                })]
            }) : t("span", {
                className: "mr-[6px]",
                children: "Not yet rated"
            }), r("div", {
                className: U("font-set-sb14 ml-[2px] flex items-center sm2:font-set-sb18", e == null ? void 0 : e.reviewCount),
                onClick: n,
                children: [t("span", {
                    className: v(n && "cursor-pointer hover:underline"),
                    children: i && i > 0 ? r(R, {
                        children: [i, " ", i > 1 ? "Reviews" : "Review"]
                    }) : "Leave a review"
                }), n && t("div", {
                    className: "pt-[1px] sm2:pt-[2px]",
                    children: t(We, {
                        className: "h-[12px] w-[12px] rotate-90 sm2:h-[16px] sm2:w-[16px]"
                    })
                })]
            })]
        })
    })
}

function Ss({
    rating: e,
    className: s
}) {
    return t(R, {
        children: e >= 80 ? t(Wt, {
            className: U("h-[20px] w-[20px]", s)
        }) : e > 70 ? t(jt, {
            className: U("h-[20px] w-[20px]", s)
        }) : t("div", {
            className: "w-[6px]"
        })
    })
}

function Rs({
    novelStatus: e,
    isLoading: s,
    title: a
}) {
    return r("div", {
        className: "flex flex-col items-start",
        children: [t(O, {
            item: !s,
            skeletonProps: y,
            children: t("div", {
                className: "font-set-b10 rounded-[4px] bg-gray-900 px-[6px] py-[4px] text-white dark:bg-gray-200 dark:text-black",
                children: dt(e)
            })
        }), t("div", {
            className: "sm2:mt-[2px]",
            children: t(O, {
                item: !s,
                skeletonProps: y,
                children: t("h1", {
                    className: "font-set-b24 text-gray-t1 line-clamp-2 sm2:font-set-b32",
                    children: a
                })
            })
        })]
    })
}
var $e;

function te() {
    return te = Object.assign ? Object.assign.bind() : function(e) {
        for (var s = 1; s < arguments.length; s++) {
            var a = arguments[s];
            for (var i in a) Object.prototype.hasOwnProperty.call(a, i) && (e[i] = a[i])
        }
        return e
    }, te.apply(this, arguments)
}
var Ls = function(s) {
    return b.createElement("svg", te({
        width: 15,
        height: 16,
        viewBox: "0 0 15 16",
        fill: "currentColor",
        xmlns: "http://www.w3.org/2000/svg"
    }, s), $e || ($e = b.createElement("path", {
        fillRule: "evenodd",
        clipRule: "evenodd",
        d: "M7.5 15.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15Zm-.815-6.543c-.062.42.294.767.72.767h.352c.208 0 .38-.162.393-.37.042-.394.211-.74.507-1.033l.472-.466c.369-.371.627-.708.775-1.01.147-.307.221-.631.221-.974 0-.754-.227-1.337-.682-1.748C8.99 3.708 8.35 3.5 7.526 3.5c-.816 0-1.46.218-1.934.653-.281.26-.48.58-.596.96-.137.454.27.849.743.849.4 0 .7-.327.978-.631.039-.043.077-.085.116-.125.175-.186.406-.279.693-.279.606 0 .91.341.91 1.023 0 .225-.059.441-.176.647-.116.201-.351.465-.705.792-.35.323-.59.651-.722.986-.066.166-.115.36-.148.582Zm.043 1.958a.897.897 0 0 0-.262.666.9.9 0 0 0 .256.659c.175.173.404.26.688.26.283 0 .51-.087.681-.26a.89.89 0 0 0 .263-.66c0-.27-.09-.491-.268-.665a.908.908 0 0 0-.676-.266.927.927 0 0 0-.682.266Z"
    })))
};

function ks({
    isLoading: e,
    wtuStatus: s,
    waitTimeSec: a,
    waitCompleteDate: i,
    remainingCoupons: n,
    maxCoupons: o = 2,
    vipBenefitedNovel: d,
    championedNovel: f
}) {
    const c = d || f,
        p = a !== void 0 ? xe({
            waitTimeSec: a,
            isTimeUnitAbbreviated: !0
        }) : "",
        u = a !== void 0 ? xe({
            waitTimeSec: a,
            isTimeUnitAbbreviated: !1
        }) : "",
        h = (() => {
            if (s === "standBy" && a) return a * 1e3;
            if (!i) return a === void 0 ? void 0 : a * 1e3;
            const T = H(i).diff(H());
            return T < 0 ? 0 : T
        })();
    let l = s;
    s === "waitingCoupon" && h !== void 0 && h <= 0 && (l = "holdingCoupon");
    const x = l === "waitingCoupon" && i,
        w = (() => {
            if (c) return 1;
            if (l === "standBy") return 0;
            if (l === "holdingCoupon") return 1;
            if (a === void 0 || h === void 0) return;
            const T = 1 - h / 1e3 / (a || 1);
            return T > 1 ? 1 : T < 0 ? 0 : T
        })(),
        [, N] = b.useState(() => H());
    Lt(() => {
        N(H())
    }, x ? Vs : null);
    const m = h === void 0 ? "" : mt(h),
        A = ((m == null ? void 0 : m.length) || 0) > 13;
    return t(O, {
        item: !e,
        className: "rounded-[12px]",
        skeletonProps: y,
        children: r("div", {
            className: "flex h-[40px] items-center rounded-[12px] bg-gray-bg-elevate",
            children: [t("img", {
                className: "ml-[4px] h-[32px] w-[32px] min-w-[32px]",
                src: "/images/clock@3x.png",
                alt: "wait to unlock status icon"
            }), t("span", {
                className: v("font-set-b13 grow", c ? "text-gray-400" : "text-blue-600"),
                role: "status",
                children: `${q(o,"Free Chapter")} Every ${pt(p)}`
            }), t("span", {
                className: v("flex w-84 flex-col items-center space-y-3", A ? "font-set-sb9" : "font-set-sb10"),
                children: t(Os, {
                    vipBenefited: !!d,
                    championed: !!f,
                    status: l,
                    remainingCoupons: n,
                    remainStr: m,
                    waitProgressRatio: w
                })
            }), t(kt, {
                title: `If you wait ${u} after reading an episode, you can read ${q(o,"chapter")} for free.`,
                children: t("div", {
                    className: "mr-6",
                    children: t(Ls, {
                        className: "h-[13px] w-[13px] text-black/20 dark:text-white/20"
                    })
                })
            })]
        })
    })
}
const Os = ({
        waitProgressRatio: e,
        ...s
    }) => r(R, {
        children: [t("div", {
            children: t(Bs, { ...s
            })
        }), t($s, {
            waitProgressRatio: e
        })]
    }),
    Bs = ({
        vipBenefited: e,
        championed: s,
        status: a,
        remainingCoupons: i,
        remainStr: n
    }) => e || s ? t("div", {
        className: "flex items-center",
        children: t("div", {
            className: "text-blue-600",
            children: s ? "Subscribing" : "VIP Access"
        })
    }) : a === "holdingCoupon" ? t("div", {
        className: "text-blue-600",
        children: q(i, "Free Chapter")
    }) : t("div", {
        className: "h-[12px] text-gray-desc",
        role: "timer",
        children: n
    }),
    $s = ({
        waitProgressRatio: e
    }) => {
        const s = e ? Number((e * 100).toFixed(1)) : 0;
        return t("div", {
            className: v("h-[3px] w-72 rounded-full bg-gray-300 dark:bg-gray-850"),
            children: t("div", {
                className: "h-[3px] rounded-full bg-gradient-ww-blue-button",
                style: {
                    width: `${s}%`
                }
            })
        })
    },
    Vs = 1e3;

function Ds({
    novel: e,
    bookmark: s,
    novelSlug: a,
    isNovelDetailLoading: i = !1
}) {
    var ie, ne, oe, ce, le, de, me, pe, ue, he;
    const {
        info: n,
        wtuInfo: o,
        userWtuInfo: d,
        wtuStatus: f
    } = Ot({
        novel: e
    }), c = b.useRef(null), {
        isVipBenefit: p,
        isLoading: u
    } = He(e ? ? void 0), {
        activeSubscription: h,
        isLoading: l
    } = F({
        novelId: e == null ? void 0 : e.id,
        keepPreviousData: !1
    }), x = !!h, {
        activePricingModelType: w
    } = ts({
        novel: e ? ? void 0
    }), {
        timeLeft: N,
        unlocksLeft: m
    } = d || {}, {
        unlocksPerWaitTime: A,
        waitTime: T
    } = o || {}, g = se(N) || void 0, L = ut.is(n) && Fe(n.freeChapters) || void 0, B = T !== void 0 ? ht(T) : void 0, C = (ne = (ie = e == null ? void 0 : e.reviewInfo) == null ? void 0 : ie.rating) == null ? void 0 : ne.value, k = (oe = e == null ? void 0 : e.reviewInfo) == null ? void 0 : oe.count, $ = (ce = e == null ? void 0 : e.authorName) == null ? void 0 : ce.value, I = ((le = e == null ? void 0 : e.translatorName) == null ? void 0 : le.value) || ((de = e == null ? void 0 : e.translator) == null ? void 0 : de.userName), E = (me = e == null ? void 0 : e.chapterInfo) == null ? void 0 : me.firstChapter, V = Ge(((pe = e == null ? void 0 : e.synopsis) == null ? void 0 : pe.value) || "", {
        transform: {
            p: Ht
        },
        removeTags: ["hr", "img"]
    }), D = b.useCallback(() => {
        var W;
        if (e) {
            const Qe = (s == null ? void 0 : s.chapter) || ((W = e.chapterInfo) == null ? void 0 : W.firstChapter),
                ze = s != null && s.chapter ? J.ClickContinueReading : J.ClickStartReading;
            ge(ze)({
                novel: e,
                chapter: Qe
            })
        }
    }, [s == null ? void 0 : s.chapter, e]), re = ft(xt.upSm2);
    return t("div", {
        css: gt,
        className: "bg-gray-100 bg-[url('/images/Noise@3x.jpg')] bg-[length:160px] dark:bg-gray-900 dark:bg-[url('/images/Noise-dark@3x.jpg')]",
        children: t("div", {
            className: U(bt, "w-full px-[24px] pb-0 text-gray-t1 sm2:px-[40px] md:max-w-[1024px] lg:px-[40px]"),
            children: r(P, {
                container: !0,
                className: "pb-[33px] pt-[16px] sm2:flex-nowrap sm2:space-x-[30px] sm2:py-[60px]",
                children: [t(P, {
                    className: "max-w-full sm2:flex-1",
                    item: !0,
                    container: !0,
                    children: t("div", {
                        className: "mx-auto sm2:mx-0",
                        children: t("div", {
                            className: v("h-204 w-140 sm2:h-350 sm2:w-240", "relative"),
                            children: t(ss, {
                                novel: e ? ? void 0,
                                imgUrl: (ue = e == null ? void 0 : e.coverUrl) == null ? void 0 : ue.value,
                                imgBlurHash: (he = e == null ? void 0 : e.coverBlurHash) == null ? void 0 : he.value,
                                isLoading: !e,
                                srcWidth: re ? 240 : 140,
                                srcHeight: re ? 350 : 204,
                                classes: {
                                    img: "drop-shadow-ww-novel-cover-image rounded-r-6"
                                }
                            })
                        })
                    })
                }), r(P, {
                    className: "pt-[8px] sm2:pt-0",
                    item: !0,
                    container: !0,
                    direction: "column",
                    alignItems: "flex-start",
                    children: [t(Rs, {
                        novelStatus: e == null ? void 0 : e.status,
                        isLoading: !e,
                        title: e == null ? void 0 : e.name
                    }), r("div", {
                        className: "mt-[4px] sm2:mt-[8px]",
                        children: [t(Es, {
                            isLoading: !e,
                            reviewRating: C,
                            reviewCount: k,
                            onReviewClick: () => {
                                var W;
                                (W = c.current) == null || W.open(), ge(J.ClickSeriesReviews)({
                                    novel: e,
                                    on: "Series Cover"
                                })
                            }
                        }), t(Ut, {
                            ref: c,
                            entity: e
                        })]
                    }), t("div", {
                        className: "mt-[8px]",
                        children: t(_s, {
                            author: $,
                            translator: I,
                            isLoading: !e
                        })
                    }), t("div", {
                        className: "flex flex-col sm2:mt-[2px]",
                        children: t(O, {
                            item: e,
                            count: 2,
                            className: "mb-[6px] h-[16px] w-[315px] max-w-full last:mb-0 sm2:mb-[10px] sm2:w-[500px] sm2:last:w-[243px]",
                            skeletonProps: y,
                            children: r(Z, {
                                children: [t(Z.Content, {
                                    lines: 2,
                                    className: "font-set-r13 gap-y-[18px] text-gray-desc sm2:font-set-r15",
                                    children: V
                                }), t(Z.Toggle, {
                                    showingComponent: t(ye, {
                                        showing: !0
                                    }),
                                    hidingComponent: t(ye, {
                                        showing: !1
                                    })
                                })]
                            })
                        })
                    }), r(P, {
                        container: !0,
                        item: !0,
                        className: "mt-auto sm2:w-[335px]",
                        children: [f && t("div", {
                            className: "mt-[16px] w-full sm2:mt-[12px]",
                            children: t(ks, {
                                isLoading: i || u || l,
                                wtuStatus: f,
                                waitTimeSec: B,
                                waitCompleteDate: g,
                                remainingCoupons: m,
                                maxCoupons: A,
                                vipBenefitedNovel: p,
                                championedNovel: x
                            })
                        }), t("div", {
                            className: "mt-[16px] w-full sm2:mt-[12px]",
                            children: t(As, {
                                novelId: e == null ? void 0 : e.id,
                                novelSlug: a,
                                bookmarkChapter: s == null ? void 0 : s.chapter,
                                isLoading: i || u,
                                pricingModel: w,
                                firstChapter: E,
                                karmaFreeChapters: L,
                                onChapterRead: D,
                                vipBenefitedNovel: p
                            })
                        })]
                    })]
                })]
            })
        })
    })
}
var X = {
    VITE_REACT_APP_ENV: "production",
    VITE_REACT_APP_SITE: "https://www.wuxiaworld.com",
    VITE_REACT_APP_BASE_URL: "https://www.wuxiaworld.com",
    VITE_REACT_APP_ADMIN_BASE_URL: "https://admin-v2.wuxiaworld.com",
    VITE_REACT_APP_AUTH_AUTHORITY: "https://identity.wuxiaworld.com",
    VITE_REACT_APP_AUTH_CLIENT_ID: "wuxiaworld_spa",
    VITE_REACT_APP_GRPC_HOST: "https://api2.wuxiaworld.com",
    VITE_REACT_APP_CDN: "https://cdn.wuxiaworld.com",
    VITE_REACT_APP_STRIPE_PUBLISHABLE_KEY: "pk_live_CM3D75Gmev5ZRyUlv3ia5SFg",
    VITE_REACT_APP_SENTRY_DSN: "https://c114ae14ce0b4246b56b282404380fab@o121751.ingest.sentry.io/5654778",
    VITE_REACT_APP_AMPLITUDE_API_KEY: "d3c3d0c91942cf82bb7af66f850c2eca",
    VITE_REACT_APP_AMPLITUDE_API_END_POINT: "https://proxy.radishfiction.com/amplitude2",
    VITE_REACT_APP_ONESIGNAL_APP_ID: "7c171fc0-36b8-48dc-8907-00fbe7bb6181",
    VITE_REACT_APP_GA_ID: "G-M6X30VM9L5",
    VITE_REACT_APP_VERSION: "2.102.0-134",
    VITE_USER_NODE_ENV: "production",
    BASE_URL: "/",
    DEV: !1,
    PROD: !0,
    SSR: !1
};

function ja({
    novel: e
}) {
    var A, T;
    const {
        user: s
    } = j(), {
        novelSlug: a
    } = Nt(), {
        search: i,
        pathname: n
    } = wt(), d = new URLSearchParams(i).get("seeReview"), f = Me(Pt, {
        listType: vt.Current,
        selector: {
            oneofKind: "novelSlug",
            novelSlug: a
        },
        pagination: {
            oneofKind: "pageInfo",
            pageInfo: {
                page: 1,
                count: 1
            }
        }
    }), {
        data: c
    } = Ue(At, g => g.getBookmarks, f, ["bookmarks", s == null ? void 0 : s.id, a], {
        enabled: !!s,
        refetchOnMount: !0,
        onError: void 0
    }), [p] = (c == null ? void 0 : c.items) || [], u = b.useRef(null), h = b.useRef(null), x = yt().getQueryData(["bookmarks", s == null ? void 0 : s.id, a]), w = !!(!e || s && x === void 0), N = async () => {
        u.current && await is(u.current, {
            verticalOffset: -100,
            maxDuration: 500
        })
    }, m = b.useCallback(async g => {
        var L;
        await N(), (L = h.current) == null || L.setItem(g)
    }, []);
    return r("div", {
        "data-amplitude-params": JSON.stringify(Tt(e ? ? void 0)),
        className: "overflow-x-hidden",
        children: [t(It, { ...Ms(e),
            script: [...Te(e, g => {
                var L, B, C, k, $, I, E, V, D;
                return {
                    "@context": "https://schema.org",
                    "@type": "Book",
                    bookFormat: "https://schema.org/EBook",
                    inLanguage: "en",
                    mainEntityOfPage: _(n),
                    name: g.name,
                    headline: g.name,
                    url: _(n),
                    datePublished: (L = se(g.createdAt)) == null ? void 0 : L.toISOString(),
                    image: (B = g.coverUrl) != null && B.value ? {
                        "@type": "ImageObject",
                        url: (C = g.coverUrl) == null ? void 0 : C.value
                    } : void 0,
                    publisher: {
                        "@type": "Organization",
                        name: "Wuxiaworld",
                        url: _("")
                    },
                    author: (k = g.authorName) != null && k.value ? {
                        "@type": "Person",
                        name: g.authorName.value
                    } : void 0,
                    aggregateRating: {
                        "@type": "AggregateRating",
                        name: g.name,
                        ratingCount: (($ = g.reviewInfo) == null ? void 0 : $.count) ? ? 0,
                        ratingValue: (E = (I = g.reviewInfo) == null ? void 0 : I.rating) != null && E.value ? g.reviewInfo.rating.value * 100 : void 0,
                        bestRating: 100,
                        worstRating: 0,
                        potentialAction: {
                            "@type": "ReadAction",
                            target: {
                                "@type": "EntryPoint",
                                actionPlatform: ["https://schema.org/DesktopWebPlatform", "https://schema.org/MobileWebPlatform", "https://schema.org/AndroidPlatform", "https://schema.org/IOSPlatform"],
                                urlTemplate: _(`/novel/${g.slug}/${(D=(V=g.chapterInfo)==null?void 0:V.firstChapter)==null?void 0:D.slug}`)
                            }
                        }
                    }
                }
            }), ...Te(e, g => ({
                "@context": "https://schema.org",
                "@type": "BreadcrumbList",
                itemListElement: [{
                    "@type": "ListItem",
                    position: 1,
                    name: "Home",
                    item: _("")
                }, {
                    "@type": "ListItem",
                    position: 2,
                    name: "Novels",
                    item: _("/novels")
                }, {
                    "@type": "ListItem",
                    position: 3,
                    name: g.name,
                    item: _(`/novel/${g.slug}`)
                }]
            }))]
        }), t(Ct, {
            extraProperties: {
                dimension2: ((A = e.translatorName) == null ? void 0 : A.value) || ((T = e.translator) == null ? void 0 : T.userName) || null,
                dimension4: e.slug,
                novel: e.name
            }
        }), t(Ds, {
            novel: e,
            bookmark: p,
            novelSlug: a,
            isNovelDetailLoading: w
        }), t(Ps, {
            novel: e,
            bookmark: d ? void 0 : p,
            onGoToTab: m,
            containerRef: u,
            novelTabsRef: h
        })]
    })
}
const Ms = e => {
    var d, f, c, p, u, h, l, x, w;
    const {
        name: s,
        genres: a,
        language: i,
        slug: n,
        coverUrl: o
    } = De(e);
    return {
        title: `${s} | Wuxiaworld`,
        description: [`${s} is a ${a==null?void 0:a.join(", ")} ${i} web novel.`, `Read the chapters of '${s}' from Wuxiaworld!`].join(" "),
        keywords: `${s}, ${i} webnovel, ${a==null?void 0:a.slice(0,2).join(", ")}, Wuxiaworld`,
        siteImage: o,
        siteUrl: `${be(n??"")}`,
        schemas: [{
            "@context": "https://schema.org",
            "@type": "BreadcrumbList",
            itemListElement: [{
                "@type": "ListItem",
                position: 1,
                name: "Home",
                item: X.VITE_REACT_APP_SITE
            }, {
                "@type": "ListItem",
                position: 2,
                name: "Novels",
                item: `${X.VITE_REACT_APP_SITE}/novels`
            }, {
                "@type": "ListItem",
                position: 3,
                name: s,
                item: `${X.VITE_REACT_APP_SITE}${be(n??"")}`
            }]
        }, {
            "@context": "https://schema.org",
            "@type": "Book",
            bookFormat: "https://schema.org/EBook",
            inLanguage: "en",
            mainEntityOfPage: _(`/novel/${e.slug}`),
            name: e.name,
            headline: e.name,
            url: _(`/novel/${e.slug}`),
            datePublished: (d = se(e.createdAt)) == null ? void 0 : d.toISOString(),
            image: (f = e.coverUrl) != null && f.value ? {
                "@type": "ImageObject",
                url: (c = e.coverUrl) == null ? void 0 : c.value
            } : void 0,
            publisher: {
                "@type": "Organization",
                name: "Wuxiaworld",
                url: _("")
            },
            author: (p = e.authorName) != null && p.value ? {
                "@type": "Person",
                name: e.authorName.value
            } : void 0,
            aggregateRating: {
                "@type": "AggregateRating",
                name: e.name,
                ratingCount: ((u = e.reviewInfo) == null ? void 0 : u.count) ? ? 0,
                ratingValue: (l = (h = e.reviewInfo) == null ? void 0 : h.rating) != null && l.value ? e.reviewInfo.rating.value * 100 : void 0,
                bestRating: 100,
                worstRating: 0,
                potentialAction: {
                    "@type": "ReadAction",
                    target: {
                        "@type": "EntryPoint",
                        actionPlatform: ["https://schema.org/DesktopWebPlatform", "https://schema.org/MobileWebPlatform", "https://schema.org/AndroidPlatform", "https://schema.org/IOSPlatform"],
                        urlTemplate: _(`/novel/${e.slug}/${(w=(x=e.chapterInfo)==null?void 0:x.firstChapter)==null?void 0:w.slug}`)
                    }
                }
            }
        }]
    }
};
export {
    ja as
    default
};
//# sourceMappingURL=_novelSlug_.Bri2R9zm.min.js.map